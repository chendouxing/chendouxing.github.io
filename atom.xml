<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>蟹堡王海星</title>
  
  <subtitle>莫西莫西</subtitle>
  <link href="https://chendouxing.github.io/atom.xml" rel="self"/>
  
  <link href="https://chendouxing.github.io/"/>
  <updated>2023-08-26T04:42:34.856Z</updated>
  <id>https://chendouxing.github.io/</id>
  
  <author>
    <name>蟹堡王海星</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>计算机四级考试</title>
    <link href="https://chendouxing.github.io/2023/08/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E7%BA%A7%E8%80%83%E8%AF%95/"/>
    <id>https://chendouxing.github.io/2023/08/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E7%BA%A7%E8%80%83%E8%AF%95/</id>
    <published>2023-08-24T06:39:06.000Z</published>
    <updated>2023-08-26T04:42:34.856Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="数据库原理"><a class="markdownIt-Anchor" href="#数据库原理">#</a> 数据库原理</h1><p>分布式透明性（网络透明性）包含位置透明性和命名透明性；复制透明性使用户不知道副本的存在</p><p>两阶段封锁协议保证可串行性</p><p>保证事务原子性是 DBMS 的事务管理器中故障恢复机制的责任；保证事务的一致性是对该事务进行编码的应用程序员的责任；保证事务的隔离性是 DBMS 的事务管理器中并发控制部件的责任；保证事务的持久性是 DBMS 的事务管理器中故障恢复机制的责任。</p><p>在分布式提交中，当一个事务更新在多个站点上的数据时，直到它确认每个站点上的事务都有结果且没有丢失时才能够提交。每个站点首先将事务执行的局部结果<strong>永久</strong>记录在本地站点磁盘的日志上。</p><p>分布式系统的所有问题是<strong>内部的、实现级别的</strong></p><p>分布式数据库系统中的<strong>数据分片</strong>是指<strong>对全局关系的分片</strong></p><p><strong>可重构性：必须保证能够由一个全局关系的各个片段来重构该全局关系</strong></p><p><strong>HTTP 协议的效率低</strong></p><p>分布式计算系统不可能同时满足 CAP 原理（一致性，可用性和分区容忍性）</p><p>ODMG 中对象可以用五个方面来描述：标识符、名称、生存期、结构和创建</p><p>对象定义语言 ODL<strong> 独立于</strong>任何特定的编程语言（“ODL 是与 C++ 或 JAVA 等类似的一种编程语言” 该说法是错误的</p><p>基本可用是指分布式系统在出现不可预知的故障时，允许损失部分可用性，但不等价于可用性不可用</p><p>在主站点技术中，所有的识别副本<strong>都被保留</strong>在相同的站点上；所有的加锁和解锁请求<strong>都被传输</strong>在包含那个副本的站点上。</p><p>分布式数据库系统的查询处理比集中式系统<strong>更复杂</strong>，分布式数据查询<strong>以减少传输的数据量为优化目标</strong></p><p><strong>半连接操作不能交换</strong></p><p>基于识别数据项副本的方法常用于<strong>分布式并发控制</strong></p><p>NOSQL 的复制模型主要有主 - 从复制和主 - 主复制。主从复制模型需要一 个复制为主复制，<strong>所有的读和写操作都必须是对主复制的</strong>，然后再复制到其他的从节点。</p><p><strong>一个典型的对象 - 关系数据库中的表不满足第一范式的要求</strong>。</p><p>三层 B/S 体系结构分别为表示层、应用层和数据库服务器层。应用层也称为业务逻辑层。<strong>当使用 Web 界面时，表示层一般通过 HTTP 协议 与应用层进行通信</strong>。</p><p>典型的大对象（<strong>位图图像和长文本串</strong>）<strong>被称为二级制大对象 BLOB</strong>，一般是非结构化的。</p><p><strong>双钥加密体制中的加密秘钥和解密秘钥是不相同的</strong>。</p><p>DBMS 不能直接处理基于非结构复杂对象的值的选择条件及其他操作。</p><p>很多 NOSQL 系统不支持 Join（连接）操作，Join 操作需要在应用程序中实现。</p><p>基于关系数据库系统的、以数据处理为主的传统的数据库应用具有以下共同特点：结构统一，面向记录，数据项小和原子字段。</p><p><strong>三种最基本的构造器是：原子、结构或元组、以及汇集。</strong></p><p>数据加密标准<strong> DES</strong> 的密钥长度是<strong> 56</strong> 位数字，数据高级加密标准<strong> AES</strong> 的密钥长度可以是<strong> 128、192 或 256</strong> 位数字。</p><p><strong>BASE 指的是基本可用、软状态和最终一致性</strong>。</p><p>很多 NOSQL 系统采用的是<strong>对对象的主码进行哈希或范围分区方法来提高访问数据的性能</strong>，NoSQL<strong> 支持无模式结构数据的存储和访问</strong>。</p><p><strong>投票方法在站点间产生的信息通信量比识别副本方法产生的要高</strong>。</p><p>以应用服务器为中心的软件结构是 Web 服务器和三层客户机服务器结合的成果。<strong>这种软件结构可分为四部分：客户机浏览器、Web 服务器、应用服务器、数据库服务器</strong>。</p><p><strong>两阶段提交协议常用于处理分布式提交问题</strong>。</p><p>常用的 B /S 结构软件开发模式:<strong> 以 Web 服务器为中心</strong>，<strong>以数据库服务器为中心</strong>和<strong>以应用服务器为中心</strong>。</p><p><strong>星形性质：安全级别高的主体禁止写安全级别低的客体</strong>。</p><p><strong>列存储数据库是按列存储数据</strong>的，这类系统按列将一张表分为列族 (一种<strong>垂直分片方法</strong>) , 每个列族存储在自己的文件中。</p><p><strong>在投票方法中，不需要指定识别副本</strong>。</p><p>主站点技术是一种识别数据项副本的并发控制方法；主站点技术中所有的识别副本都保留在同一站点上，<strong>尽管所有的锁都在主站点上存取，但数据项本身可以在它们所在的任何站点上存取</strong>，主站点技术的好处是它是集中式方案的简单扩展，因此不太复杂。</p><p>关联规则，指的是同时满足最小支持度阈值和最小可信度阈值的规则。关联规则挖掘的总体性能由从项集中找出频繁项集的过程决定，常用的关联规则挖掘算法有 Aprior 算法、采样算法、分区算法等。<strong>一个频繁项集的超集可以是频繁项集，也可以不是</strong>。</p><p><strong>大多数的 WEB 产品都是通过牺牲一致性来换取高可用性</strong>。</p><p><strong>强一致性</strong>：对于关系型数据库，要求更新过的数据都能被后续的访问看到。</p><p><strong>最终一致性</strong>：如果经过一段时间后，要求能访问到更新后的数据。</p><p><strong>星形模型由一个事实表和每个维对应的维表组成</strong>。</p><p><strong>SCRUD</strong> 操作分别指<strong> Search</strong>、Create、Read、Update、Delete。</p><p>对于遵循维格式的数据，在<strong>多维矩阵（数据立方体）上的查询性能优于关系数据模型上的查询性能</strong>。</p><p>对象查询语言 **（OQL）在设计时需要与编程语言紧密配合使用 **，<strong>OQL 语法与 SQL 的语法相似</strong>，只是增加了有关 ODMG 概念的特征。</p><p>如果某个账户<strong>没有 CREATE TABLE 权限</strong>，那么这个账户就<strong>不能创建任何关系</strong>；矩阵中的每个位置<strong> M (i，j) 表示主体 i 有对象 j 的权限类型</strong> (读、写和更新)。</p><p>在面向对象的程序设计语言中的对象称为<strong>临时对象</strong>，面向对象数据库永远在二级存储器中存储持久的对象。</p><p>对象数据库 (ODB) 设计与关系数据库 (RDB) 设计之间最主要的区别是：</p><ol><li>如何处理联系；</li><li>如何处理继承；</li><li>在对象数据库设计中，有必要在设计时尽早指定操作。</li></ol><p>数字签名由一个符号串组成，<strong>签名对每个应用来说必须是不同的</strong>；<strong>公钥技术</strong>是创建此类特性的数字签名的<strong>最好办法</strong>。</p><p>在多重继承的一般性规则中，只有<strong>当两个超类型中的同名函数不相同时才会发生二义性</strong>。</p><p>每个对象标识符<strong> OID 只能被使用一次</strong>，OID 在对象生成时产生，<strong>在撤销对象时被注销</strong>，无法再赋予另外的对象。</p><p>公钥加密模式 (或者公钥构架) 的组成部分：明文、加密算法、公钥、私钥、密文和解密算法。</p><p>OLAP 服务器是位于客户与数据仓库服务器之间的一个服务器。关系 OLAP 服务器是 OLAP 服务器的一种实现，是扩充的关系型 DBMS，提供对多维数据库的支持。多维 OLAP 服务器是 OLAP 服务器的一种实现，它是一种特殊的服务器，直接支持多维数据的存储和操作。</p><p><strong>NOSQL 系统常常使用水平扩展</strong>。</p><p>在多维模式中，<strong>雪花模式比星形模式的数据冗余要低</strong>。</p><p>数据库安全性的一般控制措施包括：<strong>访问控制</strong>、<strong>推理控制</strong>、<strong>流控制</strong>、<strong>数据加密</strong>。</p><p><strong>NOSQL 数据库</strong>把文件的<strong>记录共享在多个节点</strong>上，以分担对数据的访问。</p><p><strong>自主安全性机制的任务</strong>包含：</p><ul><li>权限授予（GRANT）</li><li>权限收回（REVOKE）</li><li>传播权限（GRANT OPTION）</li></ul><p>强制安全性机制用于对多级安全性进行控制，将用户和数据分为多个安全类别；<strong>基于角色的安全性机制是强制安全性机制的一个扩展</strong>。</p><p>一般把 NOSQL 所采用的模型分为四类：键值、文档、列和图。</p><p><strong>公钥加密使用两个独立的密钥</strong>。</p><p><strong>CGI</strong> 作为一个独立的进程在 Web 服务器上运行，<strong>进程的创建和关闭都会严重消耗系统资源</strong>。</p><p>API 与 CGI 两种编程接口均存在缺陷：</p><ul><li>用户界面受 HTML 语言的限制；</li><li>Web 服务器负载过重；</li><li>HTTP 协议的效率低。</li></ul><p><strong>行和数组类型构造器用于指定复杂类型，称为用户自定义类型</strong>；行类型对应于元组 (或结构) 构造器；数组类型对应指定汇集（集合）； SQL 提供了类似于类定义的构造，用户可以通过该构造创建命名的用户自定义类型。</p><p><strong>统计数据库安全技术禁止对个体数据进行检索</strong>，只允许使用聚集类型的函数。</p><p><strong>一个大项集 (频繁项集) 的子集必须是大项集</strong>，<strong>一个小项集</strong> (<strong>非频繁项集</strong>)<strong> 的超集是小项集</strong>。</p><p>在关系授权和收回权限的<strong>自主访问控制技术，是一种 &quot;all-or-nothing&quot; 的方法</strong>，即一个用户要么拥有该特权，要么没有该特权。</p><p><strong>水平扩展</strong>：增加分布式系统的节点数量；</p><p><strong>垂直扩展</strong>：对系统的单个节点的能力进行扩充，比如增加存储能力和处理能力。</p><h2 id="多选题"><a class="markdownIt-Anchor" href="#多选题">#</a> 多选题</h2><p>DBMS 提供模式数据定义语言（DDL）<strong>来描述逻辑模式</strong>。</p><p>常用的<strong>逻辑数据模型</strong>包括基于记录的模型（<strong>层次模型、网状模型、关系模型</strong>）、<strong>面向对象模型和对象关系模型</strong>。</p><p><strong>概念数据模型</strong>包括实体联系模型（E-R 模型）、扩充的实体联系模型（EER 模型）、<strong>面向对象模型</strong>、<strong>谓词模型</strong>。</p><p><strong>面向对象模型可以是概念模型，也可以是逻辑模型</strong>。</p><p>DBMS 还提供以下各方面数据控制功能：支持数据的多视图；支持数据共享和多用户事务处理；具有可控的冗余，<strong>提供数据库数据的安全性保护</strong>，限制非授权的访问；为程序对象提供持久性存储；提供高效查询处理的存储结构，<strong>支持高效的数据查询处理与优化</strong>；<strong>提供数据库的备份和恢复功能</strong>；<strong> 提供定义和确保数据库完整性检查</strong>；提供多用户界面；可缩短程序开发时间；<strong>并发控制</strong>。</p><p><strong>数据库管理员的职责包括</strong>：<strong>确定数据库中的信息内容和结构</strong>；<strong>确定数据库的存储结构和存取策略</strong>；<strong> 定义数据的安全性要求和完整性约束</strong>；监控数据库的使用和运行；数据库的性能改进；定期对数据库进行重组或重构，以提高系统的性能。</p><p><strong>关系模型是数学化模型</strong>，<strong>关系模型中数据的逻辑结构是一张二维表</strong>。</p><p>模式是数据库中全体数据的逻辑结构和特征描述，仅涉及 “型”，不涉及 “值”；一个模式可以有多个实例。只指定数据库的模式，此时数据库的状态称为没有数据的空状态。数据库第一次装入或加载初始数据后的状态，称为初始状态。</p><p><strong>一个数据库只有一个模式</strong>，<strong>与具体的数据模型有关</strong>，但与具体应用程序以及所使用的应用开发工具和高级程序设计语言等无关。</p><p><strong>同一个外模式可以被某一用户的多个应用程序所使用，但一个应用程序只能使用一个外模式</strong>。</p><p><strong>三级抽象模式是数据字典的最基本的内容</strong>。</p><p><strong>数据的逻辑独立性保证数据的逻辑结构改变时，应用程序不用改变</strong>。</p><p><strong>层次模型</strong>以<strong>树状结构</strong>表示各类实体以及他们之间的联系；<strong>网状模型</strong>以<strong>指针</strong>表示记录之间的联系；<strong>关系模型</strong>以<strong>二维表</strong>的形式表示实体与实体之间的联系。</p><p><strong>层次模型只能直接表示 1:1 关系和 1：n 关系，多对多（m:n）关系无法直接表示，因为层次结构以树状结构来表示关系，每个节点（除根节点无双亲节点）均只有一个双亲节点，一个或多个子节点，故无法直接表示多对多关系。</strong></p><p>与传统文件系统相比，<strong>数据库系统的优点是</strong>：<strong>数据冗余度小、数据整体有结构、数据共享性高、数据独立性高</strong>。</p><p><strong>关系操作的方式为一次一个集合</strong>，<strong>非关系操作的方式为一次一个记录</strong>。</p><p><strong>数据完整性包括实体完整性</strong>、<strong>参照完整性和用户定义完整性</strong>。</p><p>为维护数据完整性，在将新元组 t 插入到关系 R 时，需要进行完整性检查，<strong>若关系</strong> R<strong> 是参照关系</strong>，<strong>则需要对被参照关系进行检查</strong>，<strong>看是否会违反参照完整性约束</strong>。</p><h1 id="操作系统原理"><a class="markdownIt-Anchor" href="#操作系统原理">#</a> 操作系统原理</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="计算机考试" scheme="https://chendouxing.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E8%AF%95/"/>
    
    <category term="计算机四级考试" scheme="https://chendouxing.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E7%BA%A7%E8%80%83%E8%AF%95/"/>
    
    <category term="数据库技术" scheme="https://chendouxing.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%9B%E7%BA%A7%E8%80%83%E8%AF%95/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="计算机等级考试" scheme="https://chendouxing.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%AD%89%E7%BA%A7%E8%80%83%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>SQL语句</title>
    <link href="https://chendouxing.github.io/2023/03/31/sql%E8%AF%AD%E5%8F%A5/"/>
    <id>https://chendouxing.github.io/2023/03/31/sql%E8%AF%AD%E5%8F%A5/</id>
    <published>2023-03-31T09:40:02.000Z</published>
    <updated>2023-08-25T01:54:15.813Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="sql语句"><a class="markdownIt-Anchor" href="#sql语句">#</a> SQL 语句</h1><h2 id="基本语句增删改查"><a class="markdownIt-Anchor" href="#基本语句增删改查">#</a> 基本语句–增删改查</h2><p>创建数据库</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> database 数据库名;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194126557.png" alt="image-20230331194126557"></p><p>使用测试库 mydb</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql">use 数据库名;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194214204.png" alt="image-20230331194214204"></p><p>创建数据表 orders</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-string">&#x27;表名&#x27;</span>(<br>    列名<span class="hljs-number">1</span> 属性，<br>    列名<span class="hljs-number">2</span> 属性，<br>    列名<span class="hljs-number">3</span> 属性，<br>    );<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194238530.png" alt="image-20230331194238530"></p><p>给数据表 orders 中插入数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> 表名 <span class="hljs-keyword">values</span> (列<span class="hljs-number">1</span>具体值,列<span class="hljs-number">2</span>具体值,列<span class="hljs-number">3</span>具体值);<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194301524.png" alt="image-20230331194301524"></p><p>增加数据</p><p><img src="/images/image-20230331194328751.png" alt="image-20230331194328751"></p><p>删除数据表中消费者为 “jark” 的数据</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> 表名 <span class="hljs-keyword">where</span> 条件;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194355476.png" alt="image-20230331194355476"></p><p>修改表中数据，将客户为 “Polar” 的购买价格由 44.4 修改为 100</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">update</span> 表名 <span class="hljs-keyword">set</span> 目标修改值 <span class="hljs-keyword">where</span> 修改条件;<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194416409.png" alt="image-20230331194416409"></p><p>查找购买价格小于 50 的客户名</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sql"><span class="hljs-keyword">select</span> 查询结果 <span class="hljs-keyword">from</span> 表名 <span class="hljs-keyword">where</span> 条件<br></code></pre></td></tr></table></figure><p><img src="/images/image-20230331194433579.png" alt="image-20230331194433579"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="语言" scheme="https://chendouxing.github.io/categories/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="SQL" scheme="https://chendouxing.github.io/categories/%E8%AF%AD%E8%A8%80/SQL/"/>
    
    
    <category term="语言" scheme="https://chendouxing.github.io/tags/%E8%AF%AD%E8%A8%80/"/>
    
    <category term="SQL" scheme="https://chendouxing.github.io/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>数理统计</title>
    <link href="https://chendouxing.github.io/2023/03/30/%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/"/>
    <id>https://chendouxing.github.io/2023/03/30/%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/</id>
    <published>2023-03-30T06:24:48.000Z</published>
    <updated>2023-08-24T06:49:31.522Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="数理统计"><a class="markdownIt-Anchor" href="#数理统计">#</a> 数理统计</h1><h2 id="1-重要结论"><a class="markdownIt-Anchor" href="#1-重要结论">#</a> 1、重要结论</h2><h3 id="11-常见的离散型随机变量"><a class="markdownIt-Anchor" href="#11-常见的离散型随机变量">#</a> 1.1 常见的离散型随机变量</h3><h4 id="0-1分布"><a class="markdownIt-Anchor" href="#0-1分布">#</a> （0-1）分布</h4><p>记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>B</mi><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X\backsim B(1,P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></span></p><p>期望和方差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>P</mi><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X)=P \\D(X)=P\times (1-P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></span></p><h4 id="二项分布"><a class="markdownIt-Anchor" href="#二项分布">#</a> 二项分布</h4><p>记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>B</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X\backsim B(n,P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></span></p><p>期望和方差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mo>×</mo><mi>P</mi><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mo>×</mo><mi>P</mi><mo>×</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>P</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(X)=n \times P\\ D(X)=n \times P \times (1-P)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span></span></p><h4 id="泊松分布"><a class="markdownIt-Anchor" href="#泊松分布">#</a> 泊松分布</h4><p>记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>P</mi><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>λ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">X\backsim P(\lambda), \lambda&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>期望和方差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>λ</mi><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>λ</mi></mrow><annotation encoding="application/x-tex">E(X)=\lambda\\D(X)=\lambda</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">λ</span></span></span></span></span></p><h3 id="12-常见的连续型随机变量"><a class="markdownIt-Anchor" href="#12-常见的连续型随机变量">#</a> 1.2 常见的连续型随机变量</h3><h4 id="均匀分布"><a class="markdownIt-Anchor" href="#均匀分布">#</a> 均匀分布</h4><p>记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>U</mi><mo stretchy="false">[</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">X\backsim U[a,b]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mopen">[</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">]</span></span></span></span></span></p><p>期望和方差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>b</mi><mo>−</mo><mi>a</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mn>12</mn></mfrac></mrow><annotation encoding="application/x-tex">E(X)=\frac{(a+b)}{2}\\D(X)=\frac{(b-a)^{2}}{12}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1771em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">12</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="指数分布"><a class="markdownIt-Anchor" href="#指数分布">#</a> 指数分布</h4><p>记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>E</mi><mo stretchy="false">(</mo><mi>λ</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>λ</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">X \backsim E(\lambda),\lambda&gt;0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">λ</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">λ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>期望和方差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>λ</mi></mfrac><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msup><mi>λ</mi><mn>2</mn></msup></mfrac></mrow><annotation encoding="application/x-tex">E(X)=\frac{1}{\lambda}\\D(X)=\frac{1}{\lambda^{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">λ</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">λ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h4 id="正态分布"><a class="markdownIt-Anchor" href="#正态分布">#</a> 正态分布</h4><p>记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>N</mi><mo stretchy="false">(</mo><mi>μ</mi><mo separator="true">,</mo><msup><mi>σ</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X \backsim N(\mu,\sigma^{2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal">μ</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>期望和方差</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><mi>μ</mi><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>σ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">E(X)=\mu\\D(X)=\sigma^{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">μ</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></p><hr><h2 id="2-抽样分布"><a class="markdownIt-Anchor" href="#2-抽样分布">#</a> 2、抽样分布</h2><h3 id="21-卡方分布"><a class="markdownIt-Anchor" href="#21-卡方分布">#</a> 2.1 卡方分布</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>X</mi><mn>1</mn></msub><mtext>，</mtext><msub><mi>X</mi><mn>2</mn></msub><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>X</mi><mi>n</mi></msub><mtext>为</mtext><mi>n</mi><mtext>个独立且都服从标准正态分布的随机变量，记</mtext><msup><mi>χ</mi><mn>2</mn></msup><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>X</mi><mi>i</mi><mn>2</mn></msubsup><mspace width="1em"/></mrow><annotation encoding="application/x-tex">X_1，X_2...X_n为n个独立且都服从标准正态分布的随机变量，记\chi ^{2}=\sum_{i=1}^n X_i ^{2} \quad</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">为</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">个独立且都服从标准正态分布的随机变量，记</span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span></span></span></span></span></p><p>则称服从自由度为 n 的卡方分布，记为</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>χ</mi><mn>2</mn></msup><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\chi ^{2} \backsim \chi ^{2}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>性质 1:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mi>n</mi><mspace linebreak="newline"></mspace><mi>D</mi><mo stretchy="false">(</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mn>2</mn><mi>n</mi></mrow><annotation encoding="application/x-tex">E(\chi ^{2})=n \\D(\chi ^{2})=2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span><span class="mord mathnormal">n</span></span></span></span></span></p><p>性质 2:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>X</mi><mn>1</mn><mn>2</mn></msubsup><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mtext>，</mtext><msubsup><mi>X</mi><mn>2</mn><mn>2</mn></msubsup><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><msub><mi>n</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mtext>，且</mtext><msubsup><mi>X</mi><mn>1</mn><mn>2</mn></msubsup><mtext>与</mtext><msubsup><mi>X</mi><mn>2</mn><mn>2</mn></msubsup><mtext>相互独立，则</mtext><mo>:</mo><mspace linebreak="newline"></mspace><msubsup><mi>X</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><msubsup><mi>X</mi><mn>2</mn><mn>2</mn></msubsup><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><msub><mi>n</mi><mn>1</mn></msub><mo>+</mo><msub><mi>n</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X_1 ^{2}\backsim \chi ^{2}(n_1)，X_2 ^{2}\backsim \chi ^{2}(n_2)，且X_1 ^{2}与X_2 ^{2}相互独立，则:\\X_1 ^{2}+X_2 ^{2} \backsim \chi ^{2}(n_1+n_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">，</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">，且</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">与</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">相互独立，则</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1111em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><h3 id="22-t分布"><a class="markdownIt-Anchor" href="#22-t分布">#</a> 2.2 t 分布</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>X</mi><mo>∽</mo><mi>N</mi><mo stretchy="false">(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Y</mi><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>且</mtext><mi>X</mi><mtext>与</mtext><mi>Y</mi><mtext>相互独立，记为</mtext><mspace linebreak="newline"></mspace><mi>T</mi><mo>=</mo><mfrac><mi>X</mi><msqrt><mfrac><mi>Y</mi><mi>n</mi></mfrac></msqrt></mfrac><mspace linebreak="newline"></mspace><mtext>则</mtext><mi>T</mi><mtext>服从自由度为</mtext><mi>n</mi><mtext>的</mtext><mi>t</mi><mtext>分布，记为</mtext><mi>T</mi><mo>∽</mo><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">X\backsim N(0,1),Y \backsim \chi ^{2}(n),且X与Y相互独立，记为\\T=\frac{X}{\sqrt{\frac{Y}{n}}} \\则T服从自由度为n的t分布，记为T\backsim t(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">且</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord cjk_fallback">与</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord cjk_fallback">相互独立，记为</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0903em;vertical-align:-1.73em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.2487em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2487em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.2087em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.88em' viewBox='0 0 400000 1944' preserveAspectRatio='xMinYMin slice'><path d='M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5913em;"><span></span></span></span></span></span></span></span><span style="top:-3.4787em;"><span class="pstrut" style="height:3.2487em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.9257em;"><span class="pstrut" style="height:3.2487em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.73em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">则</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord cjk_fallback">服从自由度为</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">的</span><span class="mord mathnormal">t</span><span class="mord cjk_fallback">分布，记为</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p><p>性质：</p><p>当 n&gt;1 时，E (T)=0，密度曲线关于 y 轴对称</p><p>当 n=1 时，T 密度曲线</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>π</mi></mfrac><mo>×</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">f(x)=\frac{1}{\pi} \times \frac{1}{1+x^{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><h3 id="23-f分布"><a class="markdownIt-Anchor" href="#23-f分布">#</a> 2.3 F 分布</h3><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>设</mtext><mi>X</mi><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>m</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>Y</mi><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext>且</mtext><mi>X</mi><mtext>与</mtext><mi>Y</mi><mtext>相互独立，记</mtext><mi>F</mi><mo>=</mo><mfrac><mfrac><mi>X</mi><mi>m</mi></mfrac><mfrac><mi>Y</mi><mi>n</mi></mfrac></mfrac><mtext>，则称服从参数为（</mtext><mi>m</mi><mtext>，</mtext><mi>n</mi><mtext>）的</mtext><mi>F</mi><mtext>分布，记为</mtext><mi>F</mi><mo>∽</mo><mi>F</mi><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mtext>记</mtext><mi>m</mi><mtext>为第一自由度，</mtext><mi>n</mi><mtext>为第二自由度</mtext></mrow><annotation encoding="application/x-tex">设X \backsim \chi ^{2}(m),Y \backsim\chi ^{2}(n),且X与Y相互独立，记F=\frac{\frac{X}{m}}{\frac{Y}{n}}，则称服从参数为（m，n）的F分布，记为F\backsim F(m,n)\\记m为第一自由度，n为第二自由度</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">设</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">且</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord cjk_fallback">与</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord cjk_fallback">相互独立，记</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.7147em;vertical-align:-1.1073em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6073em;"><span style="top:-2.2377em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.735em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.1073em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord cjk_fallback">，则称服从参数为（</span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">，</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">）的</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord cjk_fallback">分布，记为</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">记</span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">为第一自由度，</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">为第二自由度</span></span></span></span></span></p><p>性质：</p><ul><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>F</mi><mo>∽</mo><mi>F</mi><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mfrac><mn>1</mn><mi>F</mi></mfrac><mo>∽</mo><mi>F</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F\backsim F(m,n),\frac{1}{F} \backsim F(n,m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo>∽</mo><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><msup><mi>T</mi><mn>2</mn></msup><mo>∽</mo><mi>F</mi><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T \backsim t(n),T ^{2} \backsim F(1,n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>−</mo><mover accent="true"><mi>x</mi><mo>ˉ</mo></mover><mo stretchy="false">)</mo><mspace width="1em"/></mrow><msup><mi>σ</mi><mn>2</mn></msup></mfrac><mo>∽</mo><msup><mi>χ</mi><mn>2</mn></msup><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\frac{\sum_{i=1}^n (x_i- \bar{x}) \quad}{\sigma ^{2}} \backsim\chi ^{2}(n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.18em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.494em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">∑</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:1em;"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">χ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover><mtext>与</mtext><msup><mi>S</mi><mn>2</mn></msup><mtext>独立</mtext></mrow><annotation encoding="application/x-tex">\bar{X}与S^{2}独立</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mord cjk_fallback">与</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">独立</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mfrac><mrow><mover accent="true"><mi>X</mi><mo>ˉ</mo></mover><mo>−</mo><mi>μ</mi></mrow><mfrac><mi>S</mi><msqrt><mi>n</mi></msqrt></mfrac></mfrac><mo>∽</mo><mi>t</mi><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\frac{\bar{X}-\mu}{\frac{S}{\sqrt{n}}} \backsim t(n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.7974em;vertical-align:-1.3003em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4971em;"><span style="top:-2.2377em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.6259em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8059em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-2.7659em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2341em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.538em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">ˉ</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">μ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.3003em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">∽</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p></li><li><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><msup><mi>S</mi><mn>2</mn></msup><mo>=</mo><mi>D</mi><mi>X</mi><mo>=</mo><msup><mi>σ</mi><mn>2</mn></msup><mspace linebreak="newline"></mspace><mi>D</mi><msup><mi>S</mi><mn>2</mn></msup><mo>=</mo><mfrac><mrow><mn>2</mn><msup><mi>σ</mi><mn>4</mn></msup></mrow><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">ES^{2}=DX=\sigma ^{2}\\DS^{2}=\frac{2 \sigma^{4}}{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2604em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">σ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="数学" scheme="https://chendouxing.github.io/categories/%E6%95%B0%E5%AD%A6/"/>
    
    <category term="数理统计" scheme="https://chendouxing.github.io/categories/%E6%95%B0%E5%AD%A6/%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1/"/>
    
    
    <category term="数学" scheme="https://chendouxing.github.io/tags/%E6%95%B0%E5%AD%A6/"/>
    
    <category term="课堂学习" scheme="https://chendouxing.github.io/tags/%E8%AF%BE%E5%A0%82%E5%AD%A6%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>计算机三级填空题</title>
    <link href="https://chendouxing.github.io/2023/03/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%89%E7%BA%A7%E8%80%83%E8%AF%95/"/>
    <id>https://chendouxing.github.io/2023/03/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%89%E7%BA%A7%E8%80%83%E8%AF%95/</id>
    <published>2023-03-29T01:48:10.000Z</published>
    <updated>2023-08-24T06:48:04.357Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>IDEFO 需求建模方法由箭头和 31 矩形框两种元素构成。</p><p>从安全性角度考虑，防火墙技术是用来保证数据库应用系统的 32 网络环境安全的。</p><p>在 UML 的状态机图中，状态之间的转移是由 33 事件驱动的。</p><p>在一个 SELECT 语句中，GROUP BY 子句的逻辑执行顺序在 ORDER BY 子句之 34 前</p><p>在 T-SQL 语言中，如果要将 T1 表中的全部数据复制到 T2 表中，T2 表目前还不存在，可使用语句:</p><p>SELECT * 35 INTO T2 FROM T1</p><p>设有表 Student (Sno,Sname)、SC (Sno,Cno,Grade), 现要查询没选 C01 课程的学生姓名，请补全下列语句:</p><p>SELECT Sname FROM Student WHERE NOT 36 EXISTS .(SELECT * FROM SC WHERE Cno = ‘C01’</p><p>AND Student.Sno = SC.Sno )</p><p>在 SQL Server 2008 中，若要提取游标 cur1 当前行指针所指的前一行数据，使用的选项是: FETCH 37 PRIOR FROM cur1</p><p>在 SQL Server 2008 中，若要删除 U1 架构，使用的语句是：38 DROP SCHEMA U1</p><p>在 SQL Server 2008 中，有两种身份验证模式，一种是混合身份验证模式，另 - 种是 39 Windows 身份验证模式。</p><p>40 物化视图是包含查询结果的数据库对象，数据不是在视图使用时才读取而是预先计算的。</p><p>为提高数据库性能，在销售单据表中增加 “总价” 字段 (由表中 “单价 &quot; x “数量” 计算而来) , 此种数据库优化方法被称为增加 ( 41 派生冗余列方法。</p><p>在数据库动态转储机制中，一 般需要使用 ( 42 日志文件才能将数据库恢复到某 - 时刻的正确状态。</p><p>分布式数据库系统的恢复控制采用的最典型策略是基于 43 两阶段的提交协议。</p><p>时间序列分析也可以称为数据演变分析，它能描述行为随 44 时间变化的对象的规律或趋势，并对其进行建模。</p><p>在关联规则挖掘中，关联规则的成立与否一般用 45 支持度和置信度两个指标进行描述。</p><p>数据库完整性约束条件的作用对象分为列、元组和 31 关系三种级别。</p><p>建立在主码属性上的索引称作 32 主索引。</p><p>在 UML 图中，描述系统中硬件和软件的物理配置情况和系统体系结构的图称为 33 部署图。</p><p>在一个 SELECT 语句中，HAVING 子句的逻辑执行顺序在 WHERE 子句之 34 后。</p><p>在 T-SQL 语言中，如果要将 T1 表中的全部数据复制到 T2 表中，T2 表已存在，可使用语句: .</p><p>35 INSERT INTO T2 SELECT * FROM T1</p><p>在 SQL Server 2008 中，设要在销售表上定义一个更新操作的后触发器。请补全下列语句: .</p><p>CREATE TRIGGER tri sales ON 销售表 36 FOR  UPDATE … …</p><p>在 SQL Server 2008 中，判断游标提取状态的全局变量是 37 @@FETCH_ STATUS</p><p>在 SQL Server 2008 中，若要将 DB1 数据库完整备份到 BK 设备上，请补全下列语句:</p><p>38 BACKUP DATABASE DB1 TO BK .</p><p>在 SQL Server 2008 中，系统管理员角色是 39 sysadmin</p><p>在对表进行 40 垂直分割后，如果需要查询原表的全部数据，需要使用 join 操作。</p><p>将经常一 起使用的多个表中的数据行按照其公共列值存储在一 起，这种表存储方法为 41 聚集</p><p>在 SQL Server 2008 中， 使用 T-SQL 语句进行数据库备份操作， 需要使用 42 DIFFERENTIAL 关键词指定该备份为差异备份。</p><p>在分布式数据库中，将某一关系从行 (元组) 的角度依据定条件划分为不同的片断，这种分片方法称为 43 水平分片法。</p><p>在数据仓库中，元数据 - 般分成技术元数据和业务元数据。</p><p>在数据仓库的导出数据或物化视图 (实视图) 的维护策略中，只在用户查询时发现数据已经过期才进行更新的策略称为延时维护策略。</p><p>如果数据文件中的每个查找码值在索引文件中都对应一个索引记录，则称该索引为 31 稠密索引。</p><p>在三层浏览器 / 服务器体系结构的数据库应用系统中，触发器是在数据库服务器上执行的。</p><p>UML 图中，用于表达系统中不同的包、命名空间或不同的项目间彼此关系的图称为 33 包图。</p><p>在 SELECT 语句中，用于进行分组的子句是 34 GROUP BY</p><p>SQL Server 2008 提供了 4 个排名函数，其中 ( 35 RANK 函数返回结果集中每行数据在每个分区内的排名，并且每个分区内的排名从 1 开始，但排名中间数值可能有间断。</p><p>在数据库调优过程中，在 &quot; 销售单据明细表” 中将” 单价 * 数量” 计算结果保存到” 总价” 列中，以减少查询过程中的计算量，此种调优方法被称为增加 40 冗余方法。</p><p>在数据库恢复过程中，检查点技术大幅度减少了数据库恢复时执行的 42 日志恢复操作数量。</p><p>分布式数据库中，位置独立性、数据分片独立性和数据复制独立性形成了分布式数据库系统中的 43 分布透明性。</p><p>在 SQL Server 2008 的 LIKE 子句中，可以匹配 0 到多个字符的通配符是 34 %</p><p>SQL Server 2008 提供了 4 个排名函数，其中 35 DENSE _RANK 函数返回结果集中每行数据在每个分区内的排名，并且每个分区内行的排名从 1 开始，排名可重复不间断。</p><p>在数据库调优过程中，在 “学生信息表” 中增加 “所在系名”，以减少查询过程中的表连接次数，此种调优方法被称为增加 40 冗余列方法。</p><p>在各种并行数据库系统结构中， 43 层次结构综合了共享内存、共享磁盘和无共享结构的特点，将结构分成顶层和底层两层，顶层是无共享结构，底层是共享内存或共享磁盘结构。</p><p>设在 SQL Server 2008 中， 要在 T1 表的 C1 列上建立一个按降序排序的非聚集索引。请补全下列语句:</p><p>CREATE INDEX idx t1 ON T1( 38 C1 DESC)</p><p>在 SQL Server 2008 中，若要删除 U1 登录账户，请补全下列语句:</p><p>DROP 39 LOGIN U1</p><p>在数据仓库环境中，数据的 44 粒度设计是一 种重要的设计问题， 它会影响到数据仓库中数据量以及系统能回答的查询的类型。</p><p>在企业数据仓库架构中，操作型数据存储 ODS - 般情况下主要用来支持即时 OLAP 和全局型 45 OLTP 两类应用。</p><p>在三层浏览器 / 服务器体系结构的数据库应用系统中，Web 浏览器实现的是 32 表示层的功能。</p><p>用于描述系统、用例和程序模块中逻辑流程执行次序的 UML 图称为 33 活动图。</p><p>在数据库并发控制中，锁的粒度越 41 大，事务并发执行程度就越小，数据库系统开销也越小。</p><p>在 SQL Server 2008 中，数据库镜像分为高 42 可用操作模式、高保护操作模式和高性能操作模式。</p><p>在数据仓库环境中，关于 44 数据的数据被称为元数据。</p><p>答疑: [解析] 如果数据文件中的每个查找码值在索引文件中都对应一个索引记录，则该索引称为稠密索引；如果只是一部分查找码的值有对应的索引记录， 则该索引称为稀疏索引</p><p>定义架构的 SQL 语句为 CREATE SCHEMA, 其语法格式为 CREATE SCHEMA [&lt;架构名&gt;] AUTHORIZATION &lt; 用户名 &gt;。</p><p>设在 SQL Server 中， 要启用被禁用的 User1 登录账户。请补全下列语句:</p><p>39 ALTER LOGIN User1 ENABLE</p><p>某超市管理系统运行过程中出现异常，导致已经提交的事务对数据库的更新结果未能正确写入磁盘，此故障破坏了事务的 40 一致性。</p><p>在 UML 中，用于描述系统内对象之间的消息发送和接收序列的称为 33 顺序图。</p><p>当数据库系统中存在死锁时，通常的解决方案是选择 - 个或几个死锁事务，40 回滚这些事务。</p><p>分布式数据库是物理上分散、逻辑上 43 集中的数据库系统。</p><p>如果数据文件中数据记录的排列顺序和索引文件中对应索引码的排列顺序 - 致，则称这种索引为 32 聚集索引。</p><p>为经常作为查询条件的列建立 41 索引的调优方法是典型的以空间换时间的调优方法。</p><p>在分布式数据库查询中，导致数据传输量大的主要原因是数据间的连接操作和 43 并操作。</p><p>图主要用于表达问题领域的概念模型，类图中除了表达抽象概念的名称外，还需要表达抽象概念的属性和 33 方法。</p><p>某系统运行过程中异常，已提交事务所影响的数据未能正确写入磁盘且无法恢复，此故障破坏了事务的 40 持久性。</p><p>数据仓库与大数据平台的前端需要有 ETL 工具，其中的 E 是指 45 抽取.</p><p>在事务概要设计中，用 31 read 原语来表示应用层的 Select 操作。</p><p>UML 中的通信图显示的是系统内对象之间的 33 关系， 并不强调交互的顺序。</p><p>执行存储过程需要使用 exec 或 execute 关键词。</p><p>RETURNS 关键词后面是 TABLE</p><p>在 SQL Server 2008 中，用户定义的角色属于 39 数据库级别的角色。</p><p>SQL Server 2008 支持的备份类型包括数据库备份、42 文件备份以及 事务日志备份几种方式。</p><p>分片透明性是最高级别的透明性，位于全局概念模式与 43 分片模式之间。</p><p>DBAS 生命周期中，规划与分析的主要工作内容包括系统规划与定义、项目规划和 31 可行性分析</p><p>在 UML 中，包图是用来表示包与包之间的关系的 33 类图。</p><p><strong>新</strong></p><p>使用约束可以保证数据库中数据的正确性，其中 38 UNIQUE 约束允许出现空值但不允许出现重复值。</p><p>在 SQL Server 2008 中，设 log1 是 SQL Server 身份验证模式的数据库服务器登录帐户。现要授予 log 1 具有创建数据库的权限，请补全下列语句:</p><p>EXEC sp_ addsrvrolemember ‘log1’,'dbcreator</p><p>设用 UML 设计某数据库应用系统，设计人员规划了一组应用程序集，该集合由动态链接库和可执行程序构成。为了展现这些应用程序集间的组织和依赖关系，以对源代码、可</p><p>执行程序的发布等进行系统建模，应采用的 UML 图是 ( 33 组件图。</p><p>在 SQL Server 2008 中，计算两个日期之差的函数是 (36 datediff ()。</p><p>在 SQL Server 2008 中，能够出现在 SELECT 语句目标列中的用户自定义函数是 35 标量函数。</p><p>在分布式数据库中，使用 32 分配模式来描述各片段到物理存放场地的映像。</p><p>在 UML 中，33 聚集是一种特殊形式的关联，它表示类之间的关系是整体与部分的关系。</p><p>在衡量数据库应用系统的性能指标中，( 34 系统吞吐量指的是系统在单位时间内可以完成的数据库事务数量。</p><p>在并行数据库中，最适合整表扫描操作的数据划分方法是 36 轮转法</p><p>Google 的云数据库是一个分布式的结构化数据存储系统，称作 38 Big table</p><p>在数据库事务概要设计阶段，使用 read 和 write 原语来表达存取操作。</p><p>数据库在运行过程中，由于突然停电等情况，导致系统停止运行的故障称为系统故障。</p><p>分布式数据库系统由局部数据库管理系统、全局数据库管理系统、全局数据字典、通信管理四部分组成。</p><p>在数据库性能优化中，建立物化视图和聚集 (Cluster) 属于存储优化方法。</p><p>数据库维护过程中，管理员应定期对数据库进行重组，即对数据库进行整理回收碎块，重新安排数据的存储，重建索引等操作。</p><p>局部数据模型透明性处于分配模式与局部概念模式之间，它使用户在编写应用程序时不但要了解全局数据的分片情况，还要了解各片段的副本复制情况及各片段和它们副本的场地位置分配情况，但是不需要了解各场地上数据库的数据模型。</p><p>在分布式数据库的数据分配中，若全局数据存在多个副本，在每个物理场地中都保存一个完整的数据副本，本策略属于全复制式。</p><p>在 UML 提供的图中，活动图主要用于描述系统、用例和程序模块中逻辑流程的先后或并行执行次序。</p><p>在数据库操作过程中，因发生了违反完整性约束而导致事务中止的故障属于非预期的事务内部故障。</p><p>在 SQL Server 2008 中，请补全下列声明游标 MyYB 的语句：DECLARE MyYB cursor FOR SELECT * FROM T1</p><p>在 SQL Server 2008 中，事务日志备份仅可用在完整恢复模式和大容量日志恢复模式中。</p><p>从安全性角度考虑，防火墙技术是用来保证数据库应用系统的网络环境安全的。</p><p>在 SQL Server 2008 中，若要提取游标 cur1 当前行指针所指的前一行数据，使用的选项是: FETCH PRIOR FROM cur1</p><p>在关联规则挖掘中，关联规则的成立与否一般用支持度和置信度两个指标进行描述。</p><p>在 UML 图中，描述系统中硬件和软件的物理配置情况和系统体系结构的图称为部署图。</p><p>将经常一起使用的多个表中的数据行按照其公共列值存储在一起，这种表存储方法为聚集。</p><p>在 SQL Server 2008 中，使用 T SQL 语句进行数据库备份操作，需要使用 DIFFERENTIAL 关键词指定该备份为差异备份。</p><p>在数据仓库的导出数据或物化视图 (实视图) 的维护策略中，只在用户查询时发现数据已经过期才进行更新的策略称延时维护策略。</p><p>SQL Server 2008 提供了 4 个排名函数，其中 RANK 函数返回结果集中每行数据在每个分区内的排名，組每个分区内的排名从 1 开始，但排名中间数值可能有间断。</p><p>SQL Server 2008 提供了 4 个排名函数，其中 DENSE _RANK 函数返回结果集中每行数据在每个分区内的排名，并且每个分区内行的排名从 1 开始，排名可重复且不间断。</p><p>在数据库恢复过程中，检查点技术大幅度减少了数据库恢复时执行的日志恢复操作数量。</p><p>分布式数据库中，位置独立性、数据分片独立性和数据复制独立性形成了分布式数据库系统中的分布透明性。</p><p>对一个数据集的数据进行分组，使得每一组内的数据尽可能相似而不同组间的数据尽可能的不同，这样数据挖掘方法称为聚类算法。</p><p>SQL Server 2008 中有 3 种类型的事务日志备份，对可能损坏的数据库进行日志备份的方式是尾部日志备份。</p><p>在数据仓库环境中，数据的粒度设计是一 种重 要的设计问题，它会影响到数据仓库中数据量以及系统能回答的查询的类型。</p><p>在 SQL Server 2008 中，数据库镜像分为高可用操作模式、高保护操作模式和高性能操作模式。</p><p>并行数据库有多种体系结构，其中所有处理机通过网络共享 - 个公共的主存储器的结构称为 共享内存结构。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="计算机考试" scheme="https://chendouxing.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E8%AF%95/"/>
    
    <category term="计算机三级考试" scheme="https://chendouxing.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%89%E7%BA%A7%E8%80%83%E8%AF%95/"/>
    
    <category term="数据库技术" scheme="https://chendouxing.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%80%83%E8%AF%95/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%B8%89%E7%BA%A7%E8%80%83%E8%AF%95/%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF/"/>
    
    
    <category term="计算机等级考试" scheme="https://chendouxing.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%AD%89%E7%BA%A7%E8%80%83%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>论文阅读概要</title>
    <link href="https://chendouxing.github.io/2023/03/28/%E8%AE%BA%E6%96%87/"/>
    <id>https://chendouxing.github.io/2023/03/28/%E8%AE%BA%E6%96%87/</id>
    <published>2023-03-28T10:51:10.000Z</published>
    <updated>2023-08-30T09:32:33.946Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="数据一致性知识点"><a class="markdownIt-Anchor" href="#数据一致性知识点">#</a> 数据一致性知识点</h3><p>数据一致性分为强一致性、弱一致性和因果一致性。</p><p>强一致性要求任何数据更新在所有副本中立即可见；弱一致性不要求数据更新在所有副本中立即可见，它通过使用一定的规则使所有副本在一定时间内保持相同的状态。根据对分布式环境的分析和 CAP 定理（即在分布式系统中，一致性、可用性和分区容忍度最多只能有两个条件），强一致性导致高延迟和对网络分区的零容忍，弱一致性导致短时间内数据不一致，从而导致应用异常。</p><p>因果一致性协议是介于强一致性和弱一致性之间的协议，能够有效解决强一致性带来的高延迟和零分区容忍问题，避免弱一致性带来的应用异常。它满足了分布式环境和 CAP 定理的要求。因果一致性以其独特的优势在分布式存储系统的构建中得到了广泛的应用。</p><hr><h3 id="napa-powering-scalable-data-warehousing-with-robust-query-performance-at-google"><a class="markdownIt-Anchor" href="#napa-powering-scalable-data-warehousing-with-robust-query-performance-at-google">#</a> 《Napa: powering scalable data warehousing with robust query performance at Google》</h3><p>Ankur 等学者（引文：Ankur Agiwal, Kevin Lai, Indrajit Roy,et al. 2021. Napa: powering scalable data warehousing with robust query performance at Google. Proc. VLDB Endow. 14, 12 (July 2021), 2986–2997.）由于 Google 服务不断生成大量数据，同时需要在可扩展性、亚秒级查询响应时间、可用性和强一致性的条件下存储和服务这些数据集的挑战下，开发部署了了一个分析数据管理系统 Napa。Napa 相比 Mesa，Napa 使用物化视图取代了 Mesa 繁琐的刷新技术来加速分析型查询；Napa 将数据新鲜度、成本和查询性能三者根据客户需求进行调整，使需求转换为内部数据库配置，并引入可查询时间戳（Queryable Timestamp，QT）。使用 QT 判断物化视图的延迟度，如图所示，</p><p><img src="/images/image-20230306162011309-16800541710091.png" alt=""></p><p>QT 之前为可查询时间，QT 到 Now（）之间的内容无法查询，[Now（）-QT] 代表增量的数据新鲜度。如果 QT（table）= X，则客户端可以查询在时间 X 之前摄取到表中的所有数据，QT 充当屏障，在 X 之后接收的任何数据都对客户端查询隐藏。一旦在（Y-X）范围内接收的数据被优化以满足查询性能要求，QT 的值将从 X 前进到 Y。QT 在读时使用最小值作为读的时间点，数据库的 QT 是数据库所有表 QT 值的最小值。</p><p>例子：本地 QT 值为 100、90、83、75、64 的 5 个 Napa 副本，并且查询服务要求大多数副本可用，则跨所有站点的新 QT 被设置为 83，因为大多数副本至少到 83 为止是最新的。Napa 将使用 QT 至少为 83 的副本来回答查询，因为可以保证对这些副本的查询只需要读取本地可用的增量。</p><p>对于提高查询性能，Napa 通过三种技术实现：（1）通过更积极地使用视图，（2）通过改变存储策略，Napa 在存储层提前合并增量，减少查询时增量的数量，并因此减少尾部等待时间，（3）通过解耦摄取、视图维护和查询执行。数据操作在数据中心的每个副本异步执行，而元数据操作定期执行，确保副本之间的数据可用性。Napa 直接使用 F1 作为执行引擎。</p><hr><h3 id="lazy-maintenance-of-materialized-views"><a class="markdownIt-Anchor" href="#lazy-maintenance-of-materialized-views">#</a> 《Lazy maintenance of materialized views》</h3><p>数据库系统通常在基表更新的同一事务中急切地维护视图，这使得视图维护开销很大，Zhou 等学者（引文：Jingren Zhou, Per-Ake Larson, and Hicham G. Elmongui. 2007. Lazy maintenance of materialized views. In Proceedings of the 33rd international conference on Very large data bases (VLDB '07). VLDB Endowment, 231–242.）提出了一种新的惰性维护物化视图的方法，既能减轻视图维护的负担，也能保证查询到最新的视图。惰性维护基本原则：（1）基表更新时，系统不维护视图，只是存储增量信息；（2）系统有空闲周期时，维护由低优先级作业执行；（3）视图在查询时不是最新的，在允许查询访问它之前，该视图被立即维护更新，但仅维护该视图。</p><p>如图所示，图中显示惰性视图维护的整体系统设计。</p><p>增量表：存储基表的增量流，表中每行有两个附加列（事务序列号和语句序列号）表示哪些事务和语句生成了该增量行。</p><p>维护管理器：跟踪维护任务以及生成维护任务并调度，周期性地创建低优先级作业，删除增量表中过时的增量。管理器中包含一个哈希表，以快速寻找给定视图的所有维护任务。</p><p>任务表：存储和删除维护任务，仅用于恢复，不做正常处理。</p><p>维护任务：由需要维护的视图信息、更新的基表信息、事务序列号、语句序列号、原始事务提交序列号和任务当前状态组成。事务序列号和语句序列号用于惰性维护时定位增量行和基表版本，原始事务提交序列号确定任务维护顺序，任务当前状态用于维护管理器计划和跟踪任务。</p><p>当查询开始之前，管理器检查计划使用的视图是否有挂起的维护任务（确保需要使用的视图都是最新的），若存在维护任务，管理器将立即执行这些任务，同时基表上所有的索引立即更新，任务完成后，查询继续执行。如果挂起的维护任务不影响查询访问的视图，则该视图不必立即更新。</p><p><img src="/images/image-20230306162430648-16800542101424.png" alt=""></p><p>图为惰性维护和紧急维护在响应时间上的比较。</p><p>a、基表更新便立即更新视图，当查询到达时，更新已经全部完成，视图内容为最新的，此时，查询立即完成；</p><p>b（1）、基表三次更新 T1、T2、T3 完成后，维护管理器等待系统空闲时，创建低优先级作业完成维护任务，查询到达时，视图是最新的，查询快速完成，查询响应时间与 a 相同；</p><p>b（2）、基表完成更新后，视图进行维护时，查询到达，查询等待维护任务完成后继续执行；</p><p>b（3）、基表更新完成，查询在系统维护视图之前到达，查询在开始时发出按需维护请求，并等待维护完成，查询继续执行。</p><hr><h3 id="知识点流处理系统"><a class="markdownIt-Anchor" href="#知识点流处理系统">#</a> 知识点：流处理系统</h3><p>（<a href="https://zhuanlan.zhihu.com/p/59643962">Stream SQL 的执行原理与 Flink 的实现 - 知乎 (zhihu.com)</a>）</p><p>** 流 (Stream)** 可以被看作一种无界 (Unbounded) 且只可追加的 (Append-Only) 的数据表。</p><p><strong>流处理系统的时间操作</strong></p><p>在现实世界的分布式系统当中处理流主要面对的问题有：</p><ol><li>绝对时钟 (Absolute Clock) 问题：现实世界当中的时钟往往不精确，而且在分布式系统当中实现时间绝对同步是 (物理上) 不可能的；</li><li>时间倾斜 (Time Skew) 问题：由于系统中必然会存在网络延迟、网络中断和系统崩溃等问题， 发送到系统的消息和系统内部的消息很可能失序乃至丢失。</li></ol><p><strong>解决方案</strong></p><p>1. 对于第一个问题，现代操作系统普遍使用事件驱动 (Event-Driven) 模型来处理。通过使用消息本身携带的生成时间 (Event-Time) 而不是系统接收到消息的时间 (Processing Time) 来进行处理。这样的系统当中，时钟是由事件来驱动的。 没有新的事件到来，系统的状态就如同冻结起来了一样。</p><p>** 激发器 (Trigger)** 是一类特别的事件，当这种事件的消息被接收到时，某些任务会被激发和执行。</p><p>** 水印 (Watermark)** 简单来说，就是根据消息的事件时间来决定一条消息应该被处理还是被丢弃的标记。</p><p><img src="/images/v2-461d11fa37482e48a8bde66a0b91cf2c_r.jpg" alt="v2-461d11fa37482e48a8bde66a0b91cf2c_r"></p><p>上图中，从右到左是消息到达的时间，在某时刻，消息 8 通过激发器激发了一次对水印的修改。此时水印的时间限制被修改为 4 。 这意味着之后到达的标号时间小于 4 的消息都会被丢弃。在消息 8 之后到达的消息 7 和 5，虽然时间戳比消息 8 要早， 但是因为仍在 Watermark 的范围里，因此会被考虑在内。最后到达的消息有时间标号 9，他是一条当前观察到过的消息之后的消息， 因此也会被处理。</p><p>水印的规则：</p><ol><li>水印应该永远小于当前处理过的事件的时间戳；</li><li>水印是通过激发器的激发来移动的，算子可以自己决定移动水印的时间，而不是每个接收到的事件都会改变水印；</li><li>水印必须是单调递增的。否则，一旦水印向前移动，我们无法知道是否已经有被包含在水印范围里的消息被丢弃。</li></ol><p>** 窗口 (Window)** 是一种设计出来让用户更好地描述它们对时间的需求的工具。 他可以让用户在一个窗口里以有限时间 / 数据范围的方式操作数据，同时也为进一步优化时间空间成本提供了可能。</p><p>流处理系统提供的常见的窗口类型有：</p><ol><li>固定窗口 (Fixed Window)：长度固定的窗口，每个窗口一个紧跟着一个，将时间维度划分成片段；</li><li>滑动窗口 (Sliding Window)：长度固定，但每个窗口的开始时间相比于前一个窗口都有一个固定的时间偏移；</li><li>会话窗口 (Session Window)：使用事件的属性和相互的时间间隔把他们组织在一个窗口里。这些窗口的开始时间、 持续长度等都会变化。这类窗口用于用户追踪、线索跟踪等场景十分有效。</li></ol><p><img src="/images/v2-35d35ee365a77543cc91532e223d5632_r.jpg" alt="v2-35d35ee365a77543cc91532e223d5632_r"></p><p>** 窗口和水印是两个不同的概念。** 一个窗口的结束时间已经过去， 并不意味着这个窗口不能再接收迟到的落入这个窗口的消息。实际上，这个窗口的内部状态可以被一直保存， 以便于在接收到新的消息之后刷新窗口内容并输出增量表。一个窗口及其内部状态将只会在水印完全通过之后被回收。 事实上，一个窗口的打开和关闭都有赖于激发器的作用。</p><p>** 句点 (Punctation)** 是一些在窗口关闭之前激发的激发器，它使得窗口可以输出它的中间结果而不必等到整个窗口的消息都处理完成。这对于提供低延迟数据传达十分有用。</p><p><strong>Stream Join 的语义</strong></p><p>由于 Stream 都是无边界的数据，传统数据表当中的 Join 概念在流处理系统当中可能不完全适用。 流处理系统当中的 Join 往往有以下几种类别和语义：</p><ol><li>Stream 与纯静态表 Join。这里的纯静态表的内容不会改变，因此 Join 的实现只是在 Stream 端对每个消息在静态表内进行查询；</li><li>Stream 与动态表的快照 Join。动态表的内容可能会出现增删改等情况，这里的 Join 的语义是， 当对流当中的某个消息实施 Join ，相当于查询了动态表在那一时刻的快照；</li><li>Stream 与 Stream Join，操作的两边都是 Stream。</li></ol><p><strong>动态表与 Stream Join</strong> 则是通过将动态表处理成类似 MVCC 并发控制那样的形式， 因此在每一个来自于 Stream 的消息需要 Join 时，只需要查询对应<strong>事件时间</strong>下动态表的快照即可。</p><p>在 Stream Join 动态表这个模型中，动态表这端虽然可能也是由 Stream 而来，但是对动态表的插入和修改操作 (也表示称 Stream 消息) 并不会激发 Join 结果的刷新。 这些消息只是被加入到内部状态中，等待 Stream 里的消息激发刷新时查询。 这是动态表 Join Stream 与 Stream Join Stream 最大的区别。</p><p>Stream 与 Stream Join 在两边有消息来的时候都有可能激发大量查询和修改操作，因此面临着严峻的查询放大放大和修改放大问题。在流式处理系统中，一种解决方法是结合窗口语义实现局部的 Join，下图描述了不同窗口下 Join 的语义。</p><p><img src="/images/v2-dac4bd8ff5613358f3fcd04a231c8b31_r.jpg" alt="v2-dac4bd8ff5613358f3fcd04a231c8b31_r"></p><hr><h3 id="watermarks-in-stream-processing-systems-semantics-and-comparative-analysis-of-apache-flink-and-google-cloud-dataflow"><a class="markdownIt-Anchor" href="#watermarks-in-stream-processing-systems-semantics-and-comparative-analysis-of-apache-flink-and-google-cloud-dataflow">#</a> 《Watermarks in Stream Processing Systems: Semantics and Comparative Analysis of Apache Flink and Google Cloud Dataflow 》</h3><p><strong>准备就绪</strong>：对于流处理，准备就绪是指具有可用于产生某个输出的所有必要输入的状态。</p><p><strong>健康监测</strong>：由于水位线跟踪整个数据处理管道的进度，因此影响管道进度的任何问题都将表现为水位线中的延迟。假设流处理框架提供了水印的足够细粒度的视图（例如，在管道中的物理阶段之间和内部进行划分），则通常可以通过查找第一个延迟水印来精确定位管道中的问题。</p><hr><h3 id="convergent-causal-consistency-for-social-media-posts"><a class="markdownIt-Anchor" href="#convergent-causal-consistency-for-social-media-posts">#</a> 《Convergent Causal Consistency for Social Media Posts 》</h3><p>异地复制服务在云存储管理中发挥着至关重要的作用，它可以提供增强的可用性、更高的可靠性和更低的延迟，从而按需访问共享基础架构和数据资源。在这样的环境中，一致性对于其中需要对复制的数据进行更新的分布式存储系统是关键的和基本的考虑。收敛因果一致性模型为在线人机交互服务提供了有用的语义，已成为一种流行的一致性模型。自适应非完全复制策略具有降低社交网络系统中消息计数的潜在好处。但是，静态复制对于随时间变化的工作负载效率不高。提出了一个因果 + 一致性协议 CaDRoP，支持自适应动态复制，该协议对帖子后的所有评论具有收敛性，并支持帖子之间的因果排序。根据 Amazon Web Service 的实际价格，采用不同的 PUT 率对 CaDRoP 协议在实际工作负载下进行了评估。结果表明，与在静态复制的数据存储中运行相比，CaDRoP 可以产生明显更低的成本。我们通过将其与透视最优复制解决方案进行比较来进一步评估 CaDRoP。研究结果表明，使用缓存时，CaDRoP 只会产生大约 6% 〜 16% 的额外成本。没有缓存，CaDRoP 在稳定状态下会带来 2% 〜 4.5% 的额外开销。</p><hr><h3 id="fine-grained-distributed-consistency-guarantees-with-effect-orchestration"><a class="markdownIt-Anchor" href="#fine-grained-distributed-consistency-guarantees-with-effect-orchestration">#</a> 《Fine-grained Distributed Consistency Guarantees with Effect Orchestration 》</h3><p>高可用性的分布式应用程序通常需要在地理上分布的存储上复制数据，而这些存储在默认情况下提供的一致性保证较弱。不幸的是，在弱一致性下可能出现不期望的行为，这可能违反应用程序的正确性，迫使设计人员要么实现复杂的特别机制来避免这些异常，要么通过牺牲性能来选择使用更高级别的一致性来运行应用程序。在本文中，我们描述了一个轻量级的运行时系统，它使开发人员不必进行这样的权衡。相反，我们的方法利用了声明性公理规范，这些规范反映了任何正确的实现都必须满足的必要约束，以指导运行时一致性实施和监视机制。实验结果表明，本文提出的细粒度一致性实施机制的性能（可证明是最优的和安全的）优于普通存储提供的一致性保证。</p><hr><h3 id="simba-tunable-end-to-end-data-consistency-for-mobile-apps"><a class="markdownIt-Anchor" href="#simba-tunable-end-to-end-data-consistency-for-mobile-apps">#</a> 《Simba: Tunable End-to-End Data Consistency for Mobile Apps 》</h3><p>云连接移动的应用程序的开发人员需要确保跨多个设备的应用程序和用户数据的一致性。移动的应用程序在各种使用场景下需要不同的分布式数据一致性选择。应用程序还需要优雅地处理间歇性连接和断开、有限的带宽以及客户端和服务器故障。应用程序的数据模型也可能很复杂，跨越相互依赖的结构化和非结构化数据，需要在本地、云和其他移动的设备上以原子方式存储和更新。</p><p>在本文中，我们研究了几个流行的应用程序，发现许多应用程序在并发使用时由于数据一致性处理不当而表现出不良行为。针对这些缺点，我们提出了一种新的数据抽象，称为 sTable，它统一了表格和对象数据模型，并允许应用程序从一组分布式一致性方案中进行选择；写入此抽象的移动的应用程序可以毫不费力地与云和其他移动设备同步数据，同时受益于端到端数据一致性。我们构建了 Simba（一个数据同步服务）来演示我们提出的抽象的实用性，并通过编写新应用程序和移植不一致的应用程序来对其进行评估。实验结果表明，Simba 在同步延迟、带宽消耗、服务器吞吐量以及用户数和数据量的伸缩性方面表现良好。</p><hr><h3 id="viewdf-declarative-incremental-view-maintenance-for-streaming-data"><a class="markdownIt-Anchor" href="#viewdf-declarative-incremental-view-maintenance-for-streaming-data">#</a> 《ViewDF: Declarative incremental view maintenance for streaming data 》</h3><p>我们提供 ViewDF：用于物化视图的增量维护的灵活且声明性的框架。该框架的主要组成部分是视图增量函数（ViewDF），它声明性地指定当新的一批数据到达时如何更新物化视图。我们描述并实验评估了一个基于该思想的原型系统，该系统允许用户直接编写 ViewDF，并自动将常见的流查询类转换为 ViewDF。我们的方法概括了增量视图维护的现有工作，并支持流分析中常见的视图的新优化，包括具有模式匹配和滑动窗口的视图。</p><hr><h3 id="multidirectional-replication-for-supporting-strong-consistency-low-latency-and-high-throughput"><a class="markdownIt-Anchor" href="#multidirectional-replication-for-supporting-strong-consistency-low-latency-and-high-throughput">#</a> 《Multidirectional Replication for Supporting Strong Consistency, Low Latency, and High Throughput 》</h3><p>许多复制协议可以用在各种分布式应用中，例如分布式数据库、协作应用和分布式议程，它们牺牲了强一致性以实现更低的延迟和更高的吞吐量。本文描述了单向复制和多向复制的设计、规范、实现和评估，它们挑战了这种不灵活的折衷。通过并行传播结果状态（如在主备份复制中），但使用较少的消息，同时具有处理写请求的头部和处理读请求的尾部（如在链复制中），单向复制改善了两个协议的延迟和吞吐量，而不损害强一致性。为了提高单向复制的计算和通信资源的利用率，多向复制将对象划分为多个逻辑碎片，并在每个逻辑碎片上运行一个单向复制实例。我们已经通过三个步骤完成了提议的协议：（1）将主备复制和链式复制合并为单向复制；（2）将单向复制和逻辑分片合并为多向复制；（3）实施与评价。实验结果表明，与主备复制相比，单向复制在处理具有读写冲突的读请求时，延迟大约降低了 66%; 与链式复制相比，当使用基本设置处理写请求时，单向复制在吞吐量方面显示出大约 59% 的改进；与单向复制相比，多向复制在可处理的客户端数量方面提高了 150%。</p><hr><h3 id="pgce-a-distributed-storage-causal-consistency-model-based-on-partial-geo-replication-and-cloud-edge-collaboration-architecture"><a class="markdownIt-Anchor" href="#pgce-a-distributed-storage-causal-consistency-model-based-on-partial-geo-replication-and-cloud-edge-collaboration-architecture">#</a> 《PGCE: A distributed storage causal consistency model based on partial geo-replication and cloud-edge collaboration architecture 》</h3><p>目前的因果一致性模型难以应对云存储系统中的高同步开销和响应延迟。提出了一种基于部分地理复制和云边缘协作结构的分布式存储因果一致性模型。该模型基于 Cloud-Edge 协作的分布式网络架构，通过哈希函数将云数据集划分为多个子集，并将这些子集存储在靠近用户网络的边缘节点上，实现局部异地复制。同时，通过建立时间戳稳定机制和元数据处理服务，在保证因果关系的前提下实现节点间的数据一致性，降低了元数据处理和数据同步的开销。客户端直接与边缘节点交互，减少了与云 DC 交互的响应延迟。与现有模型相比，PGCE 在响应延迟和吞吐量方面具有更好的性能。</p><p>PGCE 的云端可以与已有的因果一致性模式相结合，边缘端的每个节点存储云数据集的一个子集，实现部分地理复制。通过使用副本数据定位矩阵，数据更新仅传播到存储相同数据的节点，从而减少了元数据处理和数据同步开销。客户端的数据请求可以在边缘节点得到及时的处理和响应，减少了直接与云 DC 进行数据交互所带来的延迟。同时，将稳定状态下的数据定期传输到云端进行全局数据的更新和同步。</p><p><img src="/images/image-20230310191238109-168005432929913.png" alt="image-20230310191238109"></p><p>图为 PGCE 基于云边缘协作存储架构设计。Cloud 存储客户端写入的所有数据，Edge 由大量靠近用户网络的边缘节点组成，采用部分复制策略存储云数据集的子集，根据节点或 DC 间的存储关系构建点对点 FIFO 数据同步链路。同时，在边缘端设置时间戳稳定机制和元数据处理节点，为客户端提供因果一致的数据存储和查询服务。客户端由许多终端用户组成，可以通过 Migrate 操作（当我们读取的键没有存储在本地节点上时：首先，利用 Hash 函数找到与关键字对应的目标分区。其次，通过矩阵存储关系找到目标分区所在的节点，执行客户端迁移连接到目标节点，实现对非本地节点的数据阅读。）连接到其他边缘节点上，访问本地节点上没有存储的数据。</p><p>PGCE 建立了时间戳稳定机制和 Saturn 元数据服务来跟踪因果一致性。在每个 Edge-side 中设置一个 Saturn 节点（元数据处理服务器）。Saturn 节点接收所有需要更新或写入的元数据，并调用 Saturn 接口服务来执行全局因果关系排序，代替在每个边缘节点执行的依赖性检查工作，并以较低的开销确保 PGCE 的因果关系一致性。</p><p><img src="../images/image-20230310192903417-168005435460916.png" alt="image-20230310192903417"></p><p><img src="../images/image-20230310193906414-168005437774019.png" alt="image-20230310193906414"></p><p>例子：PGCE 利用矩阵来描述边缘节点和分区（DC) 之间的存储关系。矩阵的行表示分区，列表示节点，元素 1 表示存储该分区的节点，元素 0 表示不存储该分区的节点。从矩阵可以看出，当 P1 被更新时，我们仅将同步消息传播到 Node1 和 Node2，而不传播到 Node3 和 Node4。</p><p>基于部分地理复制，每个数据中心存储完整数据集的一个子集，减少了完全地理复制系统的存储、同步和元数据处理开销。</p><p><u>基于因果一致性的分布式存储系统，通过<strong>地理复制策略</strong>实现分布在不同位置的 DC 之间的数据同步。地域复制策略主要分为两类：完全异地复制和部分异地复制。在完全异地复制场景中，数据更新需要同步到所有副本，随着数据中心数量的增长，数据同步开销巨大。在部分异地复制方案中，数据更新不需要与所有副本同步，从而减少了同步开销，但这会迫使站点增加远程存储数据项的元数据管理成本。</u></p><p><u><strong>边缘计算</strong>是指在靠近事物或数据源头的一侧集成网络、计算、存储、应用等核心能力的开放平台，就近提供服务。它具有低延迟、低宽带操作和隐私保护的优势，这不仅降低了云的负载，还满足了边缘客户端的需求，提供了更好的用户体验。<strong>云计算适用于全局性、非实时性、长周期的大数据处理和分析</strong>。<strong>边缘计算具有实时性、数据安全性和隐私保护等优点，适合于实时、短周期的数据处理和分析</strong></u></p><hr><h3 id="replicated-data-types-that-unify-eventual-consistency-and-observable-atomic-consistency"><a class="markdownIt-Anchor" href="#replicated-data-types-that-unify-eventual-consistency-and-observable-atomic-consistency">#</a> 《Replicated data types that unify eventual consistency and observable atomic consistency 》</h3><p>强一致性广泛应用于关系数据库等系统中。在分布式系统中，强一致性确保所有客户机在所有服务器上原子地观察一致的数据更新。然而，当同步发生时，这样的系统需要牺牲可用性。</p><p>我们提出了一个新的一致性协议，可观察原子一致性协议（OACP），使写主导的应用程序尽可能快和一致的需要。OACP 结合了以下优点：（1）可合并的数据类型，具体地说，收敛的复制数据类型，以减少同步，以及（2）可靠的总顺序广播，以提供按需的强一致性。我们还提供了一个高级编程接口，以提高分布式编程的效率和正确性。</p><p>本文给出了 OACP 重写逻辑的形式化、机械化模型，并利用模型检测工具 Maude 验证了 OACP 的关键正确性。此外，我们还提供了一个基于 Akka 的 OACP 原型实现，Akka 是一个广泛使用的基于角色的中间件。实验结果表明，与现有的 Raft 一致性协议相比，OACP 协议能够有效降低协调开销。我们的结果还表明，OACP 通过可合并的数据类型提高了可用性，并为实现强一致性提供了可接受的延迟，从而允许有原则地放松强一致性以提高性能。</p><hr><h3 id="towards-the-synthesis-of-coherencereplication-protocols-from-consistency-models-via-real-time-orderings"><a class="markdownIt-Anchor" href="#towards-the-synthesis-of-coherencereplication-protocols-from-consistency-models-via-real-time-orderings">#</a> 《Towards the Synthesis of Coherence/Replication Protocols from Consistency Models via Real-Time Orderings 》</h3><p>本工作集中于具有读写接口的共享存储器系统（例如，分布式数据存储或多处理器）。在这样的系统的核心驻留有负责执行它们的一致性保证的协议。设计一个正确有效地执行一致性的协议是一项非常具有挑战性的任务。我们的总体愿景是自动完成这项任务。在这项工作中，我们通过建立从一致性规范自动推断协议所需的理论基础，朝着这一愿景迈出了一步。具体来说，我们提出了一组数学抽象，称为实时排序（rt 排序），用于对协议进行建模。然后我们创建一个从一致性保证到执行保证的最小 rt - 序的映射。最后，我们非正式地将 rt - 序与协议实现技术联系起来。因此，rt - 排序充当一致性和协议设计之间的中间抽象，其使得能够将一致性保证自动翻译成协议实现。</p><hr><h3 id="crdts主题"><a class="markdownIt-Anchor" href="#crdts主题">#</a> CRDTs 主题</h3><p>无冲突复制数据类型（Conflict-free replicated data type，CRDTs）广泛应用于工业分布式系统，如 Riak 和 AntidoteDB 。它们适合于实现高可用性和可伸缩性的复制共享数据，因为它们支持并发更新，并且如果所有副本最终执行所有更新，则它们保证收敛到相同的状态。</p><p>两个主要类别的 CRDTs:<strong> 行动 CRDTs</strong> 和<strong>基于状态的 CRDTs（CvDRT)</strong>。行动 CRDTs 传播交换副本之间的更新操作。他们需要 “完全一次交付”, 这就需要可靠的因果广播。基于状态的 CRDTs, 也叫做 CvRDTs, 传播整个状态之间的 CRDT 副本只要更新状态。交换功能是用于合并多个修正 CRDT 的状态，因此可以发送多次。</p><hr><h3 id="deepsqueeze-deep-semantic-compression-for-tabular-data"><a class="markdownIt-Anchor" href="#deepsqueeze-deep-semantic-compression-for-tabular-data">#</a> 《DeepSqueeze: Deep Semantic Compression for Tabular Data 》</h3><p>大型数据集的快速扩散，高效的数据压缩比以往变得更加重要。柱状压缩技术 (如字典编码，游程编码，增量编码) 表格数据已经证明非常有效，但其通常压缩单个列而不考虑潜在的列之间的关系，如函数依赖和相互关系。语义压缩技术，另一方面，是为了利用这种关系只存储必要列的一个子集来推断，但现有方法不能有效地识别复杂的关系所在列的关系。</p><p>DeepSqeeze 是一个新的语义压缩框架，通过使用自动编码器将元组映射到低维空间，捕获表格数据中分类列和数值列之间的复杂关系。DeepSqeeze 还支持数值数据有损压缩的保证误差范围，并与常见的列式压缩格式结合使用。</p><p><strong>通用压缩算法</strong>忽略了数据集的高级语义，只对原始比特进行操作。这些技术分为两类：（1）无损和（2）有损。</p><p>无损压缩是可逆的，这意味着原始输入可以从压缩格式完美恢复。无损压缩算法通常通过识别和去除输入数据中的统计冗余来操作。例如，霍夫曼编码 [24] 用可变长度代码替换符号，将较短的代码分配给更频繁的符号，使得它们需要更少的空间。</p><p>有损压缩，与无损压缩不同。有损压缩通过丢弃不必要的信息（例如截断测量值的最低有效位或对图像进行二次采样）来减小数据大小。由于信息的丢失，该过程是不可逆的。虽然一些用例需要输入的完美可恢复性（例如，银行交易），DeepSqueeze 工作集中在通常可以容忍不同程度的丢失的数据存档场景。</p><p><strong>DeepSqeeze 是第一个将自动编码器应用于表格数据的语义压缩方法</strong>。重要的是，DeepSqeeze 可以捕获分类列和数值列之间的复杂关系，并且我们通过用户指定的错误阈值将数值的损失纳入模型中。DeepSqeeze 使用自动编码器将元组映射到低维空间，允许对许多列之间的复杂关系进行建模。</p><h4 id="deepsqeeze的压缩过程"><a class="markdownIt-Anchor" href="#deepsqeeze的压缩过程">#</a> DeepSqeeze 的压缩过程</h4><p><img src="/images/image-20230403183001601.png" alt="image-20230403183001601"></p><h5 id="预处理"><a class="markdownIt-Anchor" href="#预处理">#</a> 预处理</h5><p>作为输入，DeepSqeeze 接受一个表格数据集，该数据集由分类列和数值列的任意组合以及指定列类型的元数据组成。</p><p>预处理将此输入数据预处理为模型可以操作的格式。根据数据类型，应用各种转换（例如，字典编码），以及遵守数值列的指定误差阈值的量化版本。</p><p>以下为每种列类型的不同预处理技术：</p><p>1. 分类列</p><p>分类列包含不同的、无序的值，通常表示为字符串。对于具有很少不同值的列，字典编码是一种普遍的压缩技术，它涉及用较小的代码替换较大的数据类型。DeepSqeeze 将分类列中的每个非重复值替换为唯一的整数代码，产生两个用途：（1）已经减小了输入数据的大小；（2）将分类值转换为模型所需的数值类型。例如，DeepSqeeze 将分别用 {0，1，2，3} 替换列中的值 {A，B，C，D}。</p><p>另一方面，对于具有许多不同值的分类列（例如，唯一字符串，主键），DeepSqeeze 会自动将它们从正常的压缩管道中排除，并回撤到现有的压缩技术。然而，在值的分布偏斜的特定情况下，在训练期间可以忽略不频繁出现的值，使得仅在最频繁出现的分类值上训练模型。由于减少分类列的可能输出值的数量可以显著减少模型中的参数数量，因此与错误预测不常见值相关的少量额外开销会被模型大小的大幅减少所抵消。</p><p>2. 数字列</p><p>数值列可以包含整数或浮点数。在这两种情况下，第一步都是执行最小最大缩放，将所有值归一化到 [0，1] 范围，这将为模型训练准备数值列，并解决列值之间的缩放差异。</p><p>然而，许多应用可以容忍某种程度的不精确性，因为它们不需要精确的结果（例如，视觉数据探索），或者因为在数据生成过程中存在一些其它形式的噪声（例如，传感器硬件的限制）。因此，还将允许用户为每列指定错误阈值与有损压缩进行有效结合。允许有损压缩的一种方式是通过接受指定误差阈值内的值的任何预测来扩展无损版本。此外，我们必须修改相关的损失函数以考虑错误阈值，这样模型就不会惩罚正确的预测。</p><p>替代方法是量化列，其涉及用使用指定误差阈值计算的不相交桶的中点替换值。例如，考虑一个数值列，其值在 [0，100] 范围内，用户指定的错误阈值为 10%; 我们的量化方法将用离散桶中点替换这些连续值：{10，30，50，70，90}。由于量化已经将误差阈值合并到桶创建中，因此我们不需要修改模型或损失函数。</p><p>与第一种方法相比，量化允许模型学习离散映射，这具有两个主要优点：（1）模型可以简单得多，因此尺寸更小；（2）离散值更容易预测，导致更少的物化故障。此外，针对量化值的具体化故障的列压缩比连续值有效得多。</p><h5 id="模型构建"><a class="markdownIt-Anchor" href="#模型构建">#</a> 模型构建</h5><p>构建一个自动编码器的人工神经网络，它将预处理的输入数据映射到低维表示。自动编码器类似于其他降维技术，但它们能够同时跨多个列学习复杂的关系。无监督训练过程在数据集上迭代进行，直到收敛。重要的是，与传统的机器学习设置不同，我们的<strong>目标是将模型过拟合到输入数据，以最小化压缩输出的大小</strong>。将模型过拟合到训练数据的一种方式是创建能够捕获数据集中的所有关系的复杂模型，而替代方法涉及构建多个更简单的模型，称为<strong>专家混合</strong>，其专门用于包含相似元组的数据的某些分区。图中显示了三个专门的模型，元组通过一个阀门路由到模型，该模型在训练期间学习数据的最佳划分。</p><p>下图描绘了用于压缩具有一个分类（C）列和三个数值（N）列的数据集的示例自动编码器。如图所示，自动编码器由两个几乎对称的模型组成：（1）编码器，其将输入元组映射到低维空间；以及（2）试图重构输入元组的解码器。共享中间层表示每个元组的学习表示（代码）。DeepSqeeze 总是用比原始输入元组更小的表示层来构造自动编码器，这是将数据映射到低维空间的瓶颈。DeepSqeeze 存储这些代码，并在解压缩期间使用解码器重新创建元组。</p><p><img src="/images/image-20230403200107007.png" alt="image-20230403200107007"></p><p>为了处理现实世界数据集中经常出现的混合分类列和数值列，DeepSqeeze 需要基于列类型信息动态调整基本自动编码器架构。图中的数值列在输出层中只需要一个节点，而分类列则需要为每个不同的值指定一个节点。在上一个示例中，具有可能值 {A，B，C，D} 的分类列需要四个输出节点（图中的蓝色）。</p><p>与集成分类列相关的关键问题之一是在最终完全连接层中引入大量连接所导致的模型大小的潜在爆炸。为了解决这个问题，使用<strong>参数共享技术</strong>，涉及所有分类列的共享输出层，而不是每列每个不同值的单个节点。<strong>共享输出层的大小由任何分类列中不同值的最大数目来限定</strong>。同时，还必须在输出层之前添加一个辅助层，每个分类列有一个节点，以及一个额外的信号节点。信号节点简单地为每个分类列提供索引，通知共享层如何解释来自特定输出的辅助层的值。</p><p>下图描述数据集解码器的最后两层，该数据集具有三个分类列，分别用于传统架构（左）和参数共享版本（右）。每列都有不同数量的不同值，这些值是用颜色编码的。由于数据集有三列，我们的辅助层包含三个节点加上一个信号节点 s。共享输出层有五个节点，这是所有列中不同值的最大数量。如图所示，辅助层显著减小了完全连接层的尺寸。</p><p><img src="/images/image-20230403201110277.png" alt="image-20230403201110277"></p><p><u>专家混合</u></p><p><strong>构建几个较小且不太复杂的模型来处理不相交的数据子集</strong>。这种方法是，每个较小的模型可以学习一组有限的简单映射。</p><p>本文使用了一个稀疏门控的专家混合体，它学习如何以无监督的方式而不是传统的聚类算法来最好地划分数据集。该体系结构的核心是一个门，它是一个独立的模型，将元组分配给最适合的专家（即，对于每个元组具有最高精度的模型）。因此，门需要每个专家一个输出。</p><p>具体过程：由图 1 所示，将每个输入元组分配给三个专家中的一个。然而，在实践中，输入元组被同时馈送给所有专家，并且门为除了所选择的专家的预测之外的所有专家产生掩码。</p><p>与代码大小类似，专家数量是一个超参数，必须根据具体情况进行选择。使用太少的专家将导致模型精度差，而太多的专家将不必要地增加模型的大小。</p><h5 id="物化"><a class="markdownIt-Anchor" href="#物化">#</a> 物化</h5><p>物化使用经过训练的自动编码器来生成低维表示，在图中标记为 Codes。这些代码中的每一个表示单个元组，并且在大小上比原始元组小得多。同时，还必须保存模型的解码器部分，以便从代码中重建原始元组，以及从我们的模型中纠正错误预测（用 X 表示）的失败值。</p><p>物化解码器通常表示总体压缩输出大小的相对小的部分，这表明优化的资源消耗将更好地花费在其他地方（例如，减小具体化故障的大小）。</p><p>对于代码物化，模型产生最小宽度为 64 位的代码（即，双精度浮点值），但 64 位通常较大。因此，<strong>DeepSqeeze 迭代地截断每个代码，直到代码大小的减少不再支付相应的失败数量的增加</strong>。由于浮点值通常难以压缩，因此在截断之后将代码转换为整数的最后步骤可以进一步减小大小。对于这种优化，我们将代码乘以通常所需的最小幂，以确保具有最大小数位数的代码转换为整数，然后将结果转换为整数类型，然后可以使用标准整数压缩技术（例如，增量编码）。</p><p>物化故障：故障的物化代表压缩输出大小的最大部分。本文使用 Parquet 来压缩物化故障。</p><h4 id="解压缩"><a class="markdownIt-Anchor" href="#解压缩">#</a> 解压缩</h4><p>解压缩过程基本上执行压缩过程中每个步骤的逆过程。具体地，解压缩流水线通过将物化代码传送到所保存的解码器，解码器重构出与预处理输出结果的近似版本。然后，将每个重建的元组与具体化的故障进行比较，并将所有错误值替换为正确值。在反转预处理的最后一步之后，已经恢复了原始数据集。</p><p>专家映射：对于具有单个专家的模型，使用单个解码器来解压缩所有元组。然而，对于具有多个专家的模型，需要物化将代码映射到正确解码器的元数据。本文考虑两种方式存储这些映射：</p><p>第一种方法如图 1 所示，其中代码和故障由专家分组，并与其原始索引沿着存储。这些索引告诉 DeepSqeeze 重建原始文件的顺序，并且它们通常可以通过 delta 编码进行有效压缩。</p><p>第二种方法涉及存储所有元组以及每个元组的附加专家分配标签，然后 DeepSqeeze 可以使用该标签来选择正确的解码器。与存储索引类似，这些标签通常可以使用行程长度编码进行有效压缩。</p><p>在这两个备选方案之间作出选择取决于数据，因此必须根据具体情况作出选择。对于不必在原始数据集中保持元组的确切顺序，例如关系表。我们可以通过使用第一种方法来保存额外的空间，该方法存储按专家分组的元组，而无需物化索引。</p><hr><h3 id="f1-query-declarative-querying-at-scale"><a class="markdownIt-Anchor" href="#f1-query-declarative-querying-at-scale">#</a> 《F1 Query: Declarative Querying at Scale》</h3><h4 id="动机"><a class="markdownIt-Anchor" href="#动机">#</a> 动机</h4><p>在类似 Google 这样的大型企业中，数据处理和分析在数据大小、延迟、数据源和新鲜度以及对自定义业务逻辑的需求方面有不同的需求。许多数据处理系统仅仅专注于该需求功能的特定情况，例如，专注于事务式查询、中型 OLAP 查询的提取 - 转换 - 加载（ETL）管道。有些系统是高度可扩展的，而有些则不是。有些系统主要作为一个封闭的筒仓运行，而其他系统可以轻松地从其他来源提取数据。有些系统查询实时数据，但有些系统必须先摄取数据，然后才能高效地查询数据。</p><h4 id="优势"><a class="markdownIt-Anchor" href="#优势">#</a> 优势</h4><p>F1 Query，是一个 SQL 查询引擎，它的优势并不在于它专注于做好一件事，而是它的目标是覆盖企业数据处理和分析需求空间的各个角落。F1 Query 模糊了事务性、交互式和批处理工作负载之间的传统区别，支持以下功能：（i）仅影响少数记录的 OLTP 点查询，（ii）大量数据的低延迟 OLAP 查询，以及（iii）将来自不同来源的数据转换和混合到支持复杂分析和报告工作负载的新表中的大型 ETL 管道。F1 Query 还通过支持与自定义业务逻辑集成的声明性查询，大大减少了开发硬编码数据处理管道的需求。因此，F1 是一个通用的查询系统，可以支持企业数据处理和分析的绝大多数用例。</p><ul><li><p>数据中心框架</p><p>F1 Query 是为数据中心而不是单个服务器或紧密耦合的集群构建的。传统的无共享数据库管理系统试图将数据的计算和处理始终保持在数据所在的位置。此外，经典范例将数据库存储子系统与查询处理层紧密耦合，通常共享内存管理、存储布局等。相比之下，F1 Query 将数据库存储与查询处理分离，因此，它可以作为数据中心中所有数据的引擎，在很大程度上消除了访问本地与远程数据时的吞吐量和延迟差异。</p></li><li><p>可伸缩性</p><p>客户端的需求差异很大，不仅在被处理的数据集的大小方面，而且在延迟和可靠性要求以及允许的资源成本方面。在 F1 Query 中，短查询在单个节点上执行，而较大的查询在低开销的分布式执行模式下执行，没有检查点和有限的可靠性保证。最大的查询以可靠的面向批处理的执行模式运行，该模式使用 MapReduce 框架。在这些模式中的每一种模式中，F1 Query 通过增加用于查询处理的计算并行性来减轻大数据大小的高延迟。</p></li><li><p>可扩展性</p><p>客户端能够使用 F1 Query 来满足任何数据处理需求，包括那些在 SQL 中不容易表达或需要访问新格式数据的需求。为了满足这一需求，F1 Query 具有高度的可扩展性。它支持用户定义函数（UDF）、用户定义聚合函数（UDA）和表值函数（TVF），以便将用本机代码编写的复杂业务逻辑集成到查询执行中。</p></li></ul><h4 id="f1查询架构的概述"><a class="markdownIt-Anchor" href="#f1查询架构的概述">#</a> F1 查询架构的概述</h4><p><img src="/images/image-20230828202120168.png" alt="image-20230828202120168"></p><h5 id="架构"><a class="markdownIt-Anchor" href="#架构">#</a> 架构</h5><p>图 1 描述了单个数据中心内的基本架构和组件之间的通信。用户通过 F1 Query 的客户端库与 F1 Query 进行交互，该库将请求发送到几个专用服务器中的一个（称为 F1 服务器）。F1 主站是数据中心内的专用节点，负责查询执行的运行时监控，并维护该数据中心的所有 F1 服务器。小型查询和事务开始在接收请求的直接 F1 服务器上执行。F1 通过在 worker 池中的 worker 上动态地提供执行线程来调度用于分布式执行的较大查询。最大的查询被安排在使用 MapReduce 框架的批处理执行模式中执行。最终结果在 F1 服务器上收集，然后返回给客户端。F1 服务器和 worker 通常是无状态的，允许客户端每次与任意 F1 服务器通信。由于 F1 服务器和工作器不存储数据，因此添加新的 F1 服务器或工作器不会触发任何数据重新分配成本。因此，数据中心的 F1 Query 部署可以通过添加更多服务器或工作器轻松地向外展。</p><h5 id="查询执行"><a class="markdownIt-Anchor" href="#查询执行">#</a> 查询执行</h5><p>用户通过其客户端库与 F1 Query 交互。客户端的查询请求可能到达许多 F1 服务器中的一个。在到达 F1 服务器时，F1 服务器首先解析和分析 SQL 查询，然后提取查询访问的所有数据源和接收器的列表。如果任何数据源或接收器在本地数据中心中不可用，并且在更靠近数据源或接收器的其他数据中心处存在 F1 服务器，则 F1 服务器将查询连同关于可用于运行查询的最佳数据中心集的信息发送回客户端。然后，客户端将查询重新发送到目标数据中心的 F1 服务器以供执行。可以注意到，虽然存储和计算的分解以及高性能网络结构已经消除了数据中心内的许多局部性问题，但是从一组许多地理上分布的数据中心中选择接近数据的数据中心仍然对查询处理延迟具有很大的影响。</p><p>在 F1 服务器上，查询执行从规划阶段开始，在规划阶段中，优化器将分析的查询抽象语法树转换为关系代数运算符的 DAG（有向无环图），然后在逻辑和物理级别上对其进行优化。然后将最终的执行计划移交给执行层。根据客户端指定的执行模式首选项，F1Query 以交互模式或批处理模式（使用 MapReduce 框架）在 F1 服务器和 worker 上执行查询，如图 2 所示。</p><p><img src="/images/image-20230828161456746.png" alt="image-20230828161456746"></p><p>对于交互式执行，查询优化器应用启发式方法在单节点集中式执行和分布式执行之间进行选择。在集中式执行中，服务器在接收查询的第一个 F1 服务器上立即分析、规划和执行查询。在分布式模式下，接收查询的第一个 F1 服务器仅充当查询协调器。该服务器调度单独的 worker 上的工作，然后这些 worker 一起执行查询。交互式执行模式为中小型查询提供了良好的性能和资源高效的执行。</p><p>批处理模式为处理大量数据的长时间运行的查询（大型查询）提供了更高的可靠性。F1 服务器将在批处理模式下运行的查询的计划存储在单独的执行存储库中。批处理模式分发和调度逻辑使用 MapReduce 框架异步运行查询。在此模式下执行查询可以容忍服务器重新启动和故障。</p><h5 id="数据来源"><a class="markdownIt-Anchor" href="#数据来源">#</a> 数据来源</h5><p>数据中心的 F1 服务器和 worker 不仅可以访问它们所在的数据中心中的数据，还可以访问任何其他 Google 数据中心中的数据。处理和分析存储层使得能够从各种来源检索数据，从 Spanner 和 Bigtable 等分布式存储系统到具有不同结构的普通文件，如逗号分隔值文本文件（CSV），面向记录的二进制格式和压缩列式文件格式，如 ColumnIO 和 Capacitor 。F1 Query 为支持它的数据源提供一致和可重复的读取，包括 Spanner 存储服务管理的数据。</p><p>为了支持对异构数据源的查询，F1 Query 抽象了每种存储类型的详细信息。它使所有数据看起来就像是存储在关系表中一样，并允许连接存储在不同来源中的数据。它使用全局编录服务来维护和检索有关以不同格式和系统存储的数据源的元信息。F1 查询还允许查询通过全局编录服务不可用的源。在这种情况下，客户端必须提供一个 DEFINE TABLE 语句，该语句描述如何将底层数据源表示为关系数据库表。下面展示了一个从 CSV 格式的 Colossus 文件中检索数据的示例。F1 查询必须知道文件的位置和类型以及其中包含的列的名称和类型。注意，不同的数据源可能需要不同的信息来描述其结构，这取决于其独特的属性。</p><p><img src="/images/image-20230828162323322.png" alt="image-20230828162323322"></p><p>虽然 F1 Query 原生支持 Google 中最广泛使用的数据源，但客户端偶尔需要通过事先未知的机制访问数据。为此，F1 支持使用名为表值函数（TVF）的扩展 API 添加新的自定义数据源，在后面章节中有更详细的描述。</p><h5 id="数据下移"><a class="markdownIt-Anchor" href="#数据下移">#</a> 数据下移</h5><p>查询的输出可以返回给客户端，但是查询也可以请求将其输出存储到外部数据接收器中。接收器可以包括各种格式的文件或以其他方式使用各种远程存储服务。与数据源一样，接收器可以是由编录服务管理的表，也可以是手动指定的目标。托管表由 CREATE TABLE 语句创建。默认情况下，它们作为存储在 Colossus 文件系统中的文件实现。手动指定的存储目标是使用 EXPORT DATA 语句指定的，使用的规范类似于用于阅读回相同数据的相应 DEFINE TABLE 规范。除了这些选项之外，查询还可以创建会话本地临时表。</p><h5 id="查询语言"><a class="markdownIt-Anchor" href="#查询语言">#</a> 查询语言</h5><p>F1 Query 符合 SQL 2011 标准，具有支持查询嵌套结构化数据的扩展。F1 Query 支持标准 SQL 功能，包括左 / 右 / 完全外部联接、聚合、表和表达式子查询、WITH 子句和分析窗口函数。对于结构化数据，F1 Query 支持可变长度的 ARRAY 类型，以及 STRUCs，这些类型与 SQL 标准行类型很相似。F1 Query 还支持 Protocol Buffers [9]，这是一种在 Google 广泛使用的结构化数据交换格式。</p><h4 id="执行内核和交互式执行模式"><a class="markdownIt-Anchor" href="#执行内核和交互式执行模式">#</a> 执行内核和交互式执行模式</h4><p>默认情况下，F1 Query 以称为交互式执行的同步联机模式执行查询。F1 查询支持两种类型的交互式执行模式：集中式和分布式。在规划阶段，优化器分析查询并确定是以集中模式还是分布式模式执行。在集中式模式下，当前 F1 服务器使用单个执行线程立即执行查询计划。相反，在分布式模式下，当前 F1 服务器充当查询协调器。它将工作安排在称为 F1 工作进程的其他进程上，然后这些进程一起并行执行查询。在本节中，我们将详细描述 F1 查询交互式执行。</p><h5 id="单线程执行内核"><a class="markdownIt-Anchor" href="#单线程执行内核">#</a> 单线程执行内核</h5><p>图 3 描述了一个 SQL 查询和用于集中式模式执行的结果查询计划。在这种模式下，F1 Query 使用单线程执行内核。图 3 所示的矩形框是执行计划中的运算符。单线程执行使用基于递归拉取的模型以 8 KiB 的批量处理元组。执行运算符递归地调用基础运算符上的 GetNext（），直到叶运算符检索到批量元组。叶子通常是从数据源读取的 Scan 运算符。每个数据源都有自己的扫描运算符实现，其特征集取决于数据源的类型。一些源仅允许全表扫描，而其他源也支持基于键的索引查找。一些源代码还支持在非键字段上下推简单筛选表达式。一个单独的 ARRAY 扫描运算符根据需要从数组类型的表达式中生成行。对于可能包含协议缓冲区的输入数据，所有扫描操作符都支持立即在数据源扫描节点处进行协议缓冲区解码，从而确保执行器不会传递大的编码协议缓冲区团块，除非它们全部被需要。相反，每个扫描操作符立即提取查询所需的最小字段集。F1 Query 还支持几个高性能的列数据源，这些数据源分别存储协议缓冲区或 SQL 结构的字段，并且根本不需要任何协议缓冲区解码。</p><p><img src="/images/image-20230828164255793.png" alt="image-20230828164255793"></p><p>F1 查询支持多种连接操作符，包括查找连接（索引嵌套循环连接）、散列连接、合并连接和数组连接。hash join 操作符实现了一个多级递归混合 hash join，并将磁盘溢出到 Colossus 分布式文件系统。查找连接操作符从其左输入读取包含键的行，并使用这些键在其右输入（必须是扫描操作符）上执行索引查找。合并联接运算符合并共享相同排序顺序的两个输入。F1 Query 还有一个针对 Spanner 表的集成扫描 / 连接操作符，它对来自基础表的数据流实现合并连接。数组连接是数组扫描的相关连接，其中数组表达式引用连接的左输入，在 SQL 查询中写为数组值表达式 f（）的 T JOIN UNNEST（f（T））。</p><p>除了扫描和连接之外，F1 Query 还有投影、聚合（基于排序和磁盘溢出）、排序、联合和分析窗口函数的运算符。所有执行操作符（包括扫描和联接）都内置支持，用于在其输出行上应用筛选谓词以及 LIMIT 和 OFFSET 操作。</p><h5 id="分布式执行"><a class="markdownIt-Anchor" href="#分布式执行">#</a> 分布式执行</h5><p>当优化器检测到分布式执行计划最适合使用分区读取以高并行度扫描输入表时，它会生成这样的计划。在这种情况下，查询执行计划被分割成查询片段，如图 4 所示。每个片段在一组 F1 工作节点上调度。这些片段同时执行，同时具有流水线和浓密并行性。工作节点是多线程的，并且一些工作节点可以执行同一查询的多个独立部分。</p><p>优化器采用自底向上的策略，根据查询计划中每个操作符的输入分布要求计算计划片段边界。每个单独的操作者可以具有跨工作者分发其输入数据的要求。如果存在，则通常在一些字段集合上对需求进行散列。典型的示例包括用于聚合的分组键或用于散列联接的联接键。当这个需求与输入操作符的元组分布兼容时，优化器将两个操作符都计划在同一个片段中。否则，它计划两个操作符之间的交换操作符以生成片段边界。</p><p>下一步是为每个片段选择并行 worker 的数量（参见图 4）。片段以独立的并行度操作。叶运算符的表扫描中的底层数据组织确定初始并行化，并具有上限。然后，宽度计算器递归地将该信息向上传播到查询计划树。例如，一个 50 个 worker 片段和一个 100 个 worker 片段之间的散列连接将使用 100 个 worker 来执行，以适应两个输入中较大的一个。</p><p><img src="/images/image-20230828165230110.png" alt="image-20230828165230110"></p><p>以下查询说明了分布式执行：</p><p><img src="/images/image-20230828165308940.png" alt="image-20230828165308940"></p><p>此查询涉及两个表：Ads 是一个用于存储广告信息的 Spanner 表，而 Clicks 是一个存储广告点击的表，定义在 Google 的分析数据仓库 Mesa 中。此查询查找在 Chrome OS 上发生的所有广告点击，广告开始日期在 2018-05-14 之后。然后，它聚合符合条件的元组以查找每个区域的点击，并按点击次数的降序。</p><p>此查询的一个可能计划如图 5 所示。在执行期间，数据流自下而上通过每个操作符，直到到达聚合和排序操作符。一千个工作进程中的每一个都扫描 Clicks 表中的数据。查询规划器将过滤器 Clicks.OS = 'ChromeOS’下推到 Mesa 扫描本身中，以便仅将满足过滤器的行从 Mesa 返回到 F1 worker。200 名工作人员使用过滤器 Ads 处理 Ads 表的扫描。StartDate &gt; ‘2018-05- 14’。来自两次扫描的数据流入一个散列连接运算符，然后同一个 F1 工作进程对连接结果执行部分聚合。最后，F1 服务器执行完整的聚合，并将排序后的输出返回给客户端。</p><p><img src="/images/image-20230828165933726.png" alt="image-20230828165933726"></p><h5 id="分区策略"><a class="markdownIt-Anchor" href="#分区策略">#</a> 分区策略</h5><p>在分布式执行模式下，F1 Query 并行执行多个片段。执行和数据流可以被视为 DAG，如图 4 所示。数据通过使用交换操作符进行重新分区而跨每个片段边界移动。对于每个元组，发送方应用分区函数来确定该元组的目的地分区。每个分区号对应于目的地片段中的特定 worker。</p><p>交换操作使用从每个源片段分区到所有目的地片段分区的直接远程过程调用（RPC，简称 RPC）来实现，其中每个发送方和接收方之间具有流控制。这种基于 RPC 的通信模式可以很好地扩展到每个片段数千个分区。需要更高并行度的查询通常以批处理执行模式运行。F1 Query 的交换操作符在数据中心本地运行，利用 Google 的 Jupiter 网络。Jupiter 允许由数万台主机组成的集群中的每台服务器与同一集群中的任何其他服务器进行通信，其持续带宽至少为 10 Gb/s。</p><p>查询优化器将每个扫描操作符规划为查询执行计划中的叶沿着期望的 N 个工作器并行性。为了以并行化的方式执行扫描，工作必须被分布，以便每个扫描工作器产生元组的不重叠子集，并且所有工作器一起产生完整的输出。然后，查询调度程序要求扫描操作符将其自身划分为 N 个分区。作为响应，扫描操作器产生 N 个或更多个分区描述。为了实现这一点，调度器然后调度计划的副本以在 N 个工作器上运行，并向每个工作器发送先前获得的分区描述中的一个。然后，每个工作器产生由其分区描述的数据子集。在一些情况下，分区的实际数量（例如，基于文件的表的数据文件的数量）可能超过 N，在这种情况下，查询执行器随时间动态地将分区分配给可用的工作者。这种方法避免了由偏斜引起的扫描的长尾延迟。</p><p>一些操作符在与其输入之一相同的计划片段中执行。例如，查找连接在与其左输入相同的片段中执行，仅处理由该输入的相同分区产生的元组的查找。相反，如图 5 所示，散列连接的执行通常需要多个片段，每个片段具有多个分区。查询优化器将每个输入扫描操作符（或其他子计划）计划在单独的片段中，除非输入操作符的数据分布已经与散列联接键兼容。这些源片段（图 5 中的 SCAN 点击和 SCAN 广告）中的每一个将其数据发送到包含散列连接操作符的相同目的地片段（图 5 中的右侧所示）。两个输入片段都使用基于联接键的散列的相同分区函数来发送它们的数据。这确保了具有相同联接键的所有行最终在相同的目标分区中，从而允许每个散列联接分区针对键空间的特定子集执行联接。</p><p><img src="/images/image-20230828170121934.png" alt="image-20230828170121934"></p><p>聚合操作符通常还需要重新分区。对于具有分组键的聚合，查询计划通过分组键的散列重新划分输入元组，并且使用聚合操作符将这些元组发送到目的地片段。对于没有分组键的聚合，所有元组都被发送到单个目的地。图 5 包含了一个没有分组键的聚合示例。如图所示，通过在执行尽力而为存储器中部分聚合的交换操作符之前添加第二聚合操作符来优化聚合。这减少了传输的数据量，并且对于具有分组密钥的聚合，其减轻了在目的地片段处的完全聚合期间热分组密钥的不利影响。</p><p>如前所述，F1 中的执行计划是 DAG 形状的，可能具有多个根。对于数据流 DAG 中的分叉，计划片段重新划分为多个目的片段，每个目的片段具有不同的划分功能。这些 DAG fork 为 SQL WITH 子句和由优化器消除重复数据的相同子计划实现 run-once 语义。DAG 分叉还用于其他复杂的计划，例如，分析函数和 DISTINCT 输入上的多个聚合。DAG 分叉对消费者片段中不同的数据消费速度敏感，以及如果多个分支在稍后再次合并时阻塞，则对分布式死锁敏感。示例包括来自 DAG 分叉的自散列连接，其尝试在构建阶段初始消耗所有元组。实现 DAG 分叉的 Exchange 操作符通过在内存中缓冲数据，然后在所有消费者被阻止时将数据溢出到 Colossus 来解决这些问题。</p><h5 id="性能注意事项"><a class="markdownIt-Anchor" href="#性能注意事项">#</a> 性能注意事项</h5><p>F1 Query 中查询性能问题的主要原因包括不对称和次优的数据源访问模式。散列连接可能对来自两个输入的热键特别敏感。加载到哈希表（构建输入）的输入中的热键可能导致溢出，因为一个 worker 将需要比其他 worker 存储更多的元组。其他输入（探测输入）中的热键可能会产生 CPU 或网络瓶颈。对于一个输入足够小以适合内存的情况，F1 Query 支持广播散列连接，该散列连接读取小的构建输入并将所有结果元组的副本广播到所有散列连接工作器。然后，每个 worker 构建哈希表的相同副本。此广播散列联接对偏斜不敏感，尽管它对意外的大生成输入敏感。</p><p>在查询执行期间，所有查找联接都使用索引键检索远程数据。由于底层数据源的延迟分布中的长尾，简单的逐键实现将导致非常缓慢的执行，底层数据源通常是分布式系统本身。因此，F1Query 的查找联接运算符使用大量外部行。如果在同一批中多次请求相同的查找关键字，则这种大批量允许重复数据删除。扫描运算符实现还可以使用更大的批来优化数据检索。例如，分区数据源使用较大的批处理来查找必须从同一远程数据源分区读取的多个键，将它们合并到单个有效的数据源访问中。如果一个批处理所需的远程请求数超过了对数据源的最大并行请求数，则来自底层存储系统的尾部延迟将被隐藏，因为请求可能会无序完成，并且运行时间较长的请求不会阻止其他较短请求的进程。</p><p>将查找连接直接放置在其左输入上时，也会经常出现偏斜和不希望的访问模式。取决于输入数据分布，数据源访问模式可以是任意的，并且可能根本不存在去重，因为对相同键的请求跨片段分区散布。堆叠多个查找连接会导致在序列期间某些键与其他键连接的行不成比例的情况下不对称。为了消除这些影响，查询优化器可以使用几个分区函数之一来重新分区左输入。分区函数的选择决定了查找联接的数据源访问模式，这对性能有很大的影响。例如，散列分区确保每个键仅源自一个节点，从而实现查找的重复删除，但对于数据源，来自每个节点的访问模式将仍然看起来像随机访问。范围分区的数据源（如 Spanner 和 Bigtable）在查找期间从键空间局部性中受益匪浅：当密钥集中在密钥空间的小范围内时，它们可能驻留在同一个数据源分区上，并且可以作为单个远程数据源访问的一部分返回到 F1 服务器。利用这一点的一种方法是使用显式的静态范围分区来为每个目的片段的分区分配固定的键范围，但这种策略有时对偏斜敏感。一种更好的基于范围的策略称为动态范围重新划分，它根据本地分布信息计算每个发送器中的单独范围划分函数。这是基于这样的原理，即在一个输入计划片段分区处观察到的分布通常非常接近整体数据分布。在许多情况下，这会导致查找模式在键空间中具有比其他分区策略高得多的局部性。此外，它在执行查找的工作者上产生完全均匀的工作负载分布。我们已经观察到，这种策略优于静态确定的理想范围划分的基础上，在查找数据源中的关键分布，特别是在左输入偏斜的情况下，仅使用关键空间的子集。动态范围重新划分还通过将它们散布在更多的目的地节点上来自适应地响应输入数据流中的临时热键，而不是创建临时热点的静态范围划分。</p><p>F1 查询操作符通常在内存中执行，而不检查指向磁盘和尽可能多的流数据。这避免了将中间结果保存到磁盘的成本，并使查询尽可能快地运行以使用输入数据。当与数据源中的积极缓存相结合时，该策略使复杂的分布式查询能够在数十或数百毫秒内运行完成。内存中执行对 F1 服务器和工作进程故障很敏感。客户端库通过透明地重试失败的查询来解决这个问题。实际上，运行长达一小时的查询足够可靠，但运行时间较长的查询可能会反复失败。在这些情况下，F1 查询的批处理执行模式成为上级选择，如下一节所述。</p><h4 id="基于mapreduce的批处理执行模式"><a class="markdownIt-Anchor" href="#基于mapreduce的批处理执行模式">#</a> 基于 MapReduce 的批处理执行模式</h4><p>F1 Query 支持交互式分析以及对长时间运行的大量数据进行大规模转换。这些大规模转换通常处理 ETL（提取 - 转换 - 加载）工作流。Google 的许多 ETL 处理管道历史上都是使用 MapReduce 或 FlumeJava [19] 开发的，主要使用自定义代码进行数据转换。尽管定制的 ETL 处理管道是有效的，但它们会产生高的开发和维护成本。此外，自定义管道不太适合 SQL 查询优化器可以执行的许多有用的优化，例如过滤器下推或属性修剪。例如，当仅需要少量字段时，手写流水线可能不必要地在级之间传递大的数据结构，因为优化这一点的额外努力是禁止的并且增加了太多的维护开销。SQL 的声明性本质使得这种手动优化变得不必要，因此最好对这种管道使用 SQL。</p><p>交互模式的内存中处理模型不适合处理在长时间运行的查询期间可能发生的 worker 故障。为了解决这个问题，F1 Query 添加了一个新的执行模式，称为批处理模式。批处理模式允许长时间运行的查询即使在 F1 服务器或 worker 出现故障时也能可靠地执行。此外，它还处理客户端故障，允许客户端提交查询进行异步处理，然后断开连接。</p><p>构建在图 2 所示的 F1Query 框架之上，F1Query 批处理模式与两种交互模式共享相同的查询规范、查询优化和执行计划生成组件。模式之间的关键区别发生在执行调度期间。在交互模式下，查询同步执行。F1 服务器监视整个查询的进度，直到完成为止。相反，对于批处理模式，F1 服务器异步调度查询以供执行。中央注册表记录查询的进度。这种架构带来了以下挑战：</p><ul><li>在批处理模式下，查询计划执行运算符必须以不同的方式进行通信，因为查询计划片段是异步执行的。在分布式交互模式中，所有片段同时处于活动状态，并使用远程过程调用进行通信。这在批处理模式下是不可行的，因为查询的不同片段在不同的时间执行。</li><li>由于批处理查询是长时间运行的，因此我们必须考虑执行过程中可能出现的瞬时故障，包括机器重新启动。这需要一个容错机制来持久化查询的中间状态并保证向前进展。</li><li>需要一个新的更高级别的服务框架来跟踪不同执行阶段的数千个批处理查询的执行情况，以确保最终完成所有查询。</li></ul><h5 id="批处理执行框架"><a class="markdownIt-Anchor" href="#批处理执行框架">#</a> 批处理执行框架</h5><p>批处理模式使用 MapReduce（MR）框架作为其执行平台。在抽象级别，查询计划中的每个计划片段（参见图 4）都可以映射到 MapReduce 阶段。处理管道中的每个阶段都将其输出存储到 Colossus 文件系统。该通信模型支持不同 MapReduce 阶段的异步执行，同时提供必要的容错性。当整个 MapReduce 阶段失败时，它们可以重新启动，因为它们的输入存储在 Colossus 上。由于 MapReduce 框架提供的固有容错性，MapReduce 阶段期间的故障是可以容忍的。</p><p>在其最简化的形式中，可以将 F1 查询执行计划中的计划片段映射到 MapReduce 阶段。然而，F1 Query 以类似于 FlumeJava [19] 的 MSCR 融合优化的方式进行优化。在该优化中，叶节点被抽象为映射操作，而内部节点被抽象为 reduce 操作。然而，这种映射导致了 map-reduce-reduce 类型的处理，这并不完全对应于 MapReduce 框架。F1 查询批处理模式通过插入一个特殊的映射运算符（身份函数）来解决这个问题。通过这种方式，map-reduce-reduce 处理可以分为两个 MapReduce 阶段：mapreduce 和<identity>map-reduce。图 6 展示了从常规物理执行计划到批处理模式 MapReduce 计划的映射。如图所示，左侧的查询计划仅映射到三个 MapReduce 阶段，而不是默认映射，这将导致六个 MapReduce 阶段。我们尚未实现的进一步改进是使用像 Cloud Dataflow 这样的框架，它支持原生的 map-reduce-reduce 类型的处理。</p><p><img src="/images/image-20230829145402362.png" alt="image-20230829145402362"></p><p>在片段之间，F1 Query 的分布式交互模式通过 RPC 在网络上发送数据。相反，批处理模式将数据具体化到暂存文件中，将其读回，并输入到下一个计划片段中。这是通过用于计划片段执行器的公共 I/O 接口来实现的，其由两种模式实现。此外，在分布式交互模式中，查询执行计划中的每个节点都是同时活动的，从而允许通过流水线实现并行性。相比之下，在批处理模式中没有流水线：MapReduce 阶段只有在所有输入完全可用时才开始。批处理模式确实支持丛并行，即，独立的 MR 级可以并行执行。</p><p>请注意，F1 Query 批处理模式以非常大的规模运行，并且为查询计划中的每个交换操作符带来了大量的数据具体化开销。因此，在可能的情况下减少计划中的交换运营商的数量是有益的，特别是当处理非常大的表时。避免交换运算符的一种方法是用查找连接替换散列连接。对于较小的输入对于广播散列连接来说太大，或者存在显著偏斜的连接，批处理模式可以将较小的输入具体化到称为排序字符串表（SSTables）的基于磁盘的查找表中。然后，它在与较大输入相同的片段中使用查找连接操作符来查找这些表，从而避免了对较大输入进行代价高昂的重新分区。查找使用分布式缓存层来减少磁盘 I/O。</p><h5 id="批处理服务框架"><a class="markdownIt-Anchor" href="#批处理服务框架">#</a> 批处理服务框架</h5><p>F1Query 批处理模式服务框架协调所有批处理模式查询的执行。它负责注册要执行的传入查询，跨不同数据中心分发查询，以及调度和监视相关的 MapReduce 处理。图 7 显示了服务框架体系结构。当 F1 客户端发出以批处理模式运行的查询时，其中一个 F1 服务器将接收该查询。然后，它生成一个执行计划，并在 QueryRegistry 中注册查询，QueryRegistry 是一个全局分布式 Spanner 数据库，用于跟踪所有批处理模式查询的元数据。然后，服务的查询分发服务器组件将查询分配给数据中心，并根据负载平衡考虑因素和执行所需数据源的可用性选择数据中心。</p><p><img src="/images/image-20230829145611972.png" alt="image-20230829145611972"></p><p>然后，由在目标数据中心中运行的框架组件拾取查询。每个数据中心都有一个查询调度程序，它定期从查询注册表中检索新分配的查询。调度器创建查询执行任务的依赖关系图，并且当任务准备好执行并且资源可用时，调度器将任务发送到查询执行器。然后，查询执行器使用 MapReduce 的 worker 池来执行任务。</p><p>服务框架是健壮的，在每个级别都具有弹性功能。所有组件都具有冗余性，包括复制和主选举的全局查询分发器，以及每个数据中心具有多个冗余实例的查询调度器。查询的所有执行状态都在查询注册表中维护，这允许所有组件有效地无状态和可替换。在数据中心内，失败的 MapReduce 阶段会重试多次。如果查询完全停止，例如由于数据中心中断，分发服务器将查询重新分配给备用数据中心，备用数据中心将从头开始执行。</p><h4 id="f1查询优化器"><a class="markdownIt-Anchor" href="#f1查询优化器">#</a> F1 查询优化器</h4><p>查询优化器的开发非常复杂。F1Query 通过重用相同的逻辑来规划所有查询，而不管执行模式如何，从而缓解了这种情况。尽管交互式和批处理执行模式使用了明显不同的执行框架，但两者都使用相同的计划和相同的执行内核。通过这种方式，F1 查询优化器中实现的所有查询规划特性都自动适用于这两种执行模式。</p><p>F1 查询优化器的高级结构如图 8 所示，它从 Cascades [35] 风格的优化中汲取了灵感。该基础设施与 Spark 的 Catalyst 计划者共享一些设计原则和术语 [11]，因为 F1 Query 和 Catalyst 团队成员之间的早期对话。第一步是调用 Google 的 SQL 解析器来解析和分析原始输入 SQL，并生成解析的抽象语法树（AST）。然后，优化器将每个这样的 AST 转换为关系代数计划。在关系代数上执行多个规则，直到达到定点条件，以产生启发式确定的最优关系代数计划。然后，优化器将最终的代数计划转换为包括所有数据源访问路径和执行算法的物理计划。优化器通过将物理计划转换为适合查询执行的最终数据结构来完成其工作，并将它们传递给查询协调器以供执行。</p><p><img src="/images/image-20230829145814850.png" alt="image-20230829145814850"></p><p>应该注意的是，F1 查询优化器主要基于启发式规则。当存在时，它在一定程度上使用统计数据属性。然而，由于数据源的多样性，典型的 F1 查询仅使用来自某些源的统计信息，这取决于预先收集什么是可行的。</p><h5 id="优化器基础架构"><a class="markdownIt-Anchor" href="#优化器基础架构">#</a> 优化器基础架构</h5><p>优化器的所有阶段都基于一个公共的基础结构层，用于表示各种计划树以及对它们进行操作的转换。所有计划树结构都是不可变的：转换阶段必须构建新的运算符来更改查询计划。此属性支持探索性规划和子树重用。为了减轻来自数据结构的多次构造和析构的负面性能影响，优化器在存储器竞技场中构造所有数据结构，并在查询的关键路径之外析构它。</p><p>优化器为表达式、逻辑计划和物理计划提供了单独的树层次结构。数百种树节点类型的样板代码仅由约 3K 行 Python 代码以及约 5K 行 Jinja2 模板生成，导致约 600K 行 C++。所生成的代码使得域特定语言（DSL）能够用于查询规划，并且包含用于计算每个树节点的散列的方法，以执行树相等比较，以及适合于将树存储在标准集合中并在测试框架中表示它们的其他助手。代码生成的使用为 F1 Query 工程师节省了大量时间，减少了开发过程中的错误，并使新功能能够在树层次结构中有效地推出。</p><p>所有关系代数规则和计划转换阶段使用 C<ins> 嵌入式 DSL 检查和操作树，以进行树模式匹配和构建。由于代码生成和 C</ins> 模板，树模式表达式的性能与优化的手写代码一样好。同时，它们比手工编写的代码更简洁，并且更清楚地表达了每次重写的意图。</p><h5 id="逻辑查询计划优化"><a class="markdownIt-Anchor" href="#逻辑查询计划优化">#</a> 逻辑查询计划优化</h5><p>当 SQL 查询分析器接收到原始查询文本时，它会生成一个解析的抽象语法树（AST）。然后，F1 查询优化器将此 AST 转换为关系代数树。然后应用逻辑重写规则来应用启发式更新以改进查询计划。规则被组织成批，每个批运行一次或直到达到固定点。应用的规则包括过滤器下推、常量折叠、属性修剪、约束传播、外部连接缩小、排序消除、公共子计划重复数据删除和实体化视图重写。</p><p>F1 查询中的数据源可能包括关系表列中的结构化协议缓冲区数据，并且所有规则都具有协议缓冲区的一流知识。例如，核心属性修剪规则将各个协议缓冲区字段的提取操作表达式递归地向下推到查询计划中尽可能远。如果这样的提取一直行进到查询计划的叶子，则通常可以将它们集成到扫描操作中，以减少从磁盘读取或通过网络传输的字节数。</p><h5 id="物理查询计划构造"><a class="markdownIt-Anchor" href="#物理查询计划构造">#</a> 物理查询计划构造</h5><p>基于关系代数计划，优化器然后创建一个物理计划树，它表示实际的执行算法和数据源访问路径。物理计划构造逻辑封装在称为策略的模块中。每种策略都试图与关系代数运算符的一个特定组合进行匹配。然后，该策略产生物理运算符来实现匹配的逻辑运算符。例如，一种策略仅处理查找连接，检测具有适当索引的表的逻辑连接，然后在它们之间生成物理查找连接运算符。每个结果的物理操作符表示为跟踪多个数据属性的类，包括分布、排序、唯一性、估计基数和波动性（以及其他）。优化器使用这些属性来确定何时插入交换运算符，以便将输入元组重新分区为下一个运算符所需的新数据分布。优化器还使用物理计划属性来决定是以集中模式还是分布式模式运行查询。当任何扫描被认为对于中央查询来说太昂贵时，例如因为它是全表扫描，所以整个查询被规划为分布式查询。</p><h5 id="执行计划片段生成器"><a class="markdownIt-Anchor" href="#执行计划片段生成器">#</a> 执行计划片段生成器</h5><p>查询优化器的最后阶段将物理查询计划转换为一系列适合直接执行的计划片段。该执行计划片段生成器将物理计划树节点转换成在每个交换操作符处具有片段边界的对应执行操作符。生成器还负责计算每个片段的最终并行度，从包含分布式表扫描的叶片段开始，并向上传播到查询计划的根。</p><h4 id="f1中的各种扩展性选项"><a class="markdownIt-Anchor" href="#f1中的各种扩展性选项">#</a> F1 中的各种扩展性选项</h4><p>F1 查询可通过多种方式进行扩展：它支持自定义数据源以及用户定义标量函数（UDF）、聚合函数（UDA）和表值函数（TVF）。用户定义的函数可以使用任何类型的数据作为输入和输出，包括协议缓冲区。客户端可以用 SQL 语法表达用户定义的逻辑，为他们提供了一种从查询中抽象出公共概念的简单方法，并使它们更具可读性和可维护性。他们也可以使用 Lua 脚本来定义额外的功能，用于特定的查询和分析。对于 C++ 和 Java 等编译和托管语言，F1 Query 集成了称为 UDF 服务器的专用辅助进程，以帮助客户在 SQL 查询和其他系统之间重用公共业务逻辑。</p><p>UDF 服务器是由 F1 Query 客户端单独拥有和部署的 RPC 服务。它们通常用 C++、Java 或 Go 语言编写，并在与调用它们的 F1 服务器和 worker 相同的数据中心中执行。每个客户端都保持对自己的 UDF 服务器发布周期和资源配置的完全控制。UDF 服务器公开了一个通用的 RPC 接口，该接口使 F1 服务器能够找到它们导出的函数的详细信息，并实际执行这些函数。要使用 UDF 服务器提供的扩展，F1 Query 客户端必须在它发送到 F1 服务器的查询 RPC 中提供 UDF 服务器池的地址。或者，F1 数据库的所有者可以配置默认 UDF 服务器，使其可用于在该数据库上下文中运行的所有查询。即使 F1 在查询执行期间将与 UDF 服务器通信，它们仍然是独立的进程，并将核心 F1 系统与自定义函数中的故障隔离开来。</p><p>SQL 和 Lua 脚本化函数不使用 UDF 服务器，也没有一个用于它们定义的中央存储库。相反，客户端必须始终将其定义作为 RPC 的一部分提供给 F1 Query。客户端工具（如 F1 Query 命令行界面）从配置文件和其他显式加载的源以及立即命令中收集函数定义。它们随后将所有相关函数定义作为每个 RPC 的一部分传递给 F1 Query。F1 Query 确实提供了一种将多个 SQLUDF、UDA 和 TVF 分组到模块中的机制。客户团队使用模块来构建他们的定制业务逻辑，提高可维护性并促进重用。模块通过发送到 F1 Query 的查询 RPC 以与单个 UDF 相同的方式呈现给 F1 Query。</p><h5 id="标量函数"><a class="markdownIt-Anchor" href="#标量函数">#</a> 标量函数</h5><p>F1 查询支持用 SQL、Lua 编写的标量 UDF，并通过 UDF 服务器编译代码。SQLUDF 允许用户将复杂表达式封装为可重用的库。它们在查询中使用的地方就地展开。对于像 Lua 这样的脚本语言，查询执行器维护一个沙盒解释器来在运行时评估脚本函数。例如，下面所示的 Lua UDF 将编码为字符串的日期值转换为表示相应 Unix 时间的无符号整数：</p><p><img src="/images/image-20230829150332868.png" alt="image-20230829150332868"></p><p>由 UDF 服务器导出的函数只能在投影执行运算符中计算。在解析每个查询时，系统为每个 UDF 生成一个函数表达式。然后优化器将所有此类表达式移动到投影中。在执行过程中，投影运算符缓冲输入行并计算其关联的 UDF 参数值，最多限制大小。然后，工作者将 RPC 分派到关联的 UDF 服务器。UDF 服务器延迟是通过管道化多个 RPC 来隐藏的。这允许相当高的延迟 UDF 实现，而不会影响查询延迟。</p><h5 id="聚合函数"><a class="markdownIt-Anchor" href="#聚合函数">#</a> 聚合函数</h5><p>F1 Query 还支持用户定义的聚合函数，该函数将一个组中的多个输入行组合成一个结果。与标量函数一样，用户可以在 SQL 中定义 UDA，查询优化器在每个调用站点扩展定义。对于编译和托管语言，系统还支持在 UDF 服务器中托管 UDA。AUDF 基于服务器的 UDA 定义必须实现典型的 UDA 处理操作 Initialize、Accumulate 和 Finalize 。此外，它必须实现 Reaccumulate 操作，该操作用于联合收割机来自部分聚合的多个聚合缓冲区（参见图 5）。</p><p>在执行期间，聚合运算符处理输入行，并在内存中缓冲每个 UDA 聚合值的聚合输入。当哈希表中所有这些缓冲输入的内存使用总和超过一定大小时，执行器将每个组的现有聚合值和新输入发送到 UDF 服务器。然后，UDF 服务器调用适当的 UDA 操作，为每个组生成一个新的聚合值。UDF 服务器是无状态的，允许每个 F1 服务器并行地将请求分发给许多 UDF 服务器进程。</p><h5 id="表值函数"><a class="markdownIt-Anchor" href="#表值函数">#</a> 表值函数</h5><p>最后，F1Query 公开了表值函数（TVF），这是一个客户端构建自己的用户定义数据库执行操作符的框架。表值函数有多种用途，可帮助扩展 F1 查询的功能。突出的例子包括在 SQL 查询执行期间集成机器学习步骤，如模型训练，这允许用户使用数据，然后在一个步骤中运行高级预测。整个公司的开发团队还可以根据需要添加新的 TVF 数据源，而无需与核心 F1 Query 开发人员进行交互或重新启动正在运行的数据库服务器。</p><p>TVF 可以接受整个表以及常量标量值作为输入，并使用这些输入返回一个新表作为输出。查询可以通过在 FROM 子句中调用 TVF、传入标量参数、数据库中的表或表子查询来调用 TVF。例如，这调用一个带有标量参数的 TVF 和一个数据库表来计算过去 3 天的广告点击活动：</p><p><img src="/images/image-20230829150520606.png" alt="image-20230829150520606"></p><p>与 UDF 和 UDA 一样，可以使用 SQL 定义 TVF。这样的 TVF 类似于参数化视图，其中参数可以是整个表。在查询优化之前，它们被扩展到查询计划中，这样优化器就可以完全优化 TVF。上面调用的 UDF 可以使用 SQL 定义如下：</p><p><img src="/images/image-20230829150548557.png" alt="image-20230829150548557"></p><p>请注意，此示例使用 ANY TABLE 指定函数可以接受任何表作为参数。在这种情况下，TVF 在分析时基于每个查询的实际输入表动态地计算输出模式，在此之后，输出模式在该查询的执行期间保持固定。还可以指定输入表必须具有特定的模式，在这种情况下，F1Query 在查询分析时强制执行此不变量。</p><p>可以使用 UDF 服务器定义更复杂的 TVF。UDF 服务器使用函数签名公开 TVF 定义。该签名可以包括类似于 SQL TVF 示例中的通用参数。TVF 定义还提供了一个函数来计算特定调用的输出表模式。有趣的是，这个输出模式可能不仅依赖于输入表的列类型，还依赖于标量常量参数的值。因此，即使签名不包含通用参数，TVF 也使用该函数来计算输出模式。TVF 定义还公开了优化器的执行属性，例如输入表上的 TVF 是否可以通过按某些键对输入表进行分区，然后分别调用每个分区上的 TVF 实现来并行化。</p><p>查询优化器选择两个运算符之一来评估网络上远程托管的 TVF。第一个运算符特别适用于 TVF 不包含输入表参数的情况。在这种情况下，它表示远程数据源，并且它的计划和执行与其他数据源一样，包括对分区扫描和查找联接的支持。带有输入表参数的函数由专门的 TVF 执行运算符处理。对于这两种类型的 TVF，优化器可以将过滤器、限制和聚合步骤下推到 TVF 本身中，这可以使用它们来减少工作。</p><p>用于远程 TVF 评估的 RPC 协议使用持久双向流网络连接将输入行发送到 UDF 服务器并接收返回的输出行，如图 9 所示。对于远程数据源，优化器还向 UDF 服务器发送 RPC 调用，以检索 TVF 的分区描述，以便多个工作进程可以并行扫描数据源。</p><p><img src="/images/image-20230829150944947.png" alt="image-20230829150944947"></p><h4 id="f1的结构化数据处理"><a class="markdownIt-Anchor" href="#f1的结构化数据处理">#</a> F1 的结构化数据处理</h4><h5 id="强大性能"><a class="markdownIt-Anchor" href="#强大性能">#</a> 强大性能</h5><p>F1 Query 将性能健壮性视为数据库查询处理中的一个关键问题，也是影响用户体验的重要第三个维度，超越效率和可伸缩性。健壮性要求性能在出现意外的输入大小、意外的选择性和其他因素时适度下降。在没有适度降级的情况下，用户可能会看到性能悬崖，即，算法或计划的成本函数中的不连续性。例如，一旦整个输入开始溢出到临时文件中，从内存快速排序到外部合并排序的转换可以将端到端排序运行时间增加两倍或更多。图 10 显示了一个实例，该实例显示了 F1 查询排序操作的性能不连续性，其中有一个悬崖（之前测量）和删除悬崖（之后测量）。悬崖会产生几个问题，包括不可预测的性能和用户体验差；优化器选择变得容易出错，因为小的基数估计误差可能被放大成大的成本计算误差；并且在并行查询执行中，计算节点之间的小负载不平衡可能转变为经过的运行时间中的大差异。</p><p><img src="/images/image-20230829150824633.png" alt="image-20230829150824633"></p><p>F1 Query 采用强大的算法来防止性能悬崖。其主要思想是，代替在优化时间或在执行时间使用二进制开关，执行操作符在操作模式之间递增地转换。例如，它的排序操作符只从内存中的工作区溢出所需的数据，以便为内存中的其他输入腾出空间。排序的另一个例子发生在过渡到多个合并步骤期间，其中一个额外的输入字节可以迫使所有输入记录经历两个合并步骤，而不是只有一个 [36]。F1Query 从其排序和聚合的实现中消除了这两个悬崖。悬崖避免或移除的成功示例包括 SmoothScan [16] 和散列连接中的动态降级 [52]。如果单行 “太多” 将停止执行并重新启动编译时优化器，则动态重新优化将引入巨大的悬崖。</p><h5 id="google协议缓冲区中的嵌套数据"><a class="markdownIt-Anchor" href="#google协议缓冲区中的嵌套数据">#</a> Google 协议缓冲区中的嵌套数据</h5><p>在 Google 内部，Protocol Buffers [9] 作为一种数据交换和存储格式无处不在。协议缓冲区是一种结构化的数据格式，其记录类型称为消息，并支持数组值或重复字段。协议缓冲区既有人类可读的文本格式，又有紧凑、高效的二进制表示。它们是 F1 查询数据模型中的一级数据类型，并且其 SQL 方言具有用于查询和操作单个消息的扩展，例如字段用于字段访问，以及 NEW Point（3AS x，5AS y）用于创建新消息。F1 查询还支持相关子查询表达式和重复字段上的连接</p><p>查询协议缓冲区提出了许多与 XML [18] 和 JSON [21] 等半结构化数据格式相同的挑战，对此已有大量的研究。然而，存在一些关键的差异。在 JSON 完全动态类型化并且通常以人类可读格式存储的情况下，协议缓冲区是静态类型化的并且通常以紧凑的二进制格式存储，从而实现更有效的解码。protocol buffers 的二进制编码有点类似于 MongoDB [2] 中使用的 JSON 对象的二进制编码，但它更有效，因为字段是静态类型的，并且由整数而不是字符串标识。此外，一些数据源垂直地将消息分解成列格式 [51]，其方式类似于 XML 数据库中文档的垂直分解 [29]。</p><p>查询中引用的所有 protos 的确切结构和类型在查询规划时是已知的，优化器会从数据源扫描中删除所有未使用的字段。在列式数据源中，这减少了 I/O 并实现了对过滤器的高效逐列评估。对于使用行二进制格式的面向记录的数据源，F1 Query 使用高效的流解码器，该解码器对编码数据进行单次传递，并仅提取必要的字段，跳过不相关的数据。这仅通过每个协议缓冲区类型的固定定义以及快速识别和跳过的整数字段标识符来实现。</p><h4 id="总结"><a class="markdownIt-Anchor" href="#总结">#</a> 总结</h4><p>在本文中，我们已经证明了构建一个查询处理系统是可能的，该系统涵盖了存储在任何数据源中的数据的大量数据处理和分析用例。通过在单个系统中组合对所有这些用例的支持，F1 Query 实现了显着的协同效益，而不是存在许多单独的系统用于不同的用例。对于查询解析、分析和优化等单独系统中常见的功能，没有重复的开发工作，确保有利于一个用例的改进自动有利于其他用例。最重要的是，拥有一个单一的系统为客户提供了一个一站式的数据查询需求，并消除了当客户遇到更专业的系统的支持用例的边界时发生的不连续性或 “悬崖”。我们相信，正是 F1 Query 的广泛适用性奠定了该产品在 Google 内部建立的庞大用户群的基础。</p><p>F1 Query 继续进行积极的开发，以解决新的用例，并缩小与专用系统的性能差距。例如，F1 查询还不能与向量化的列式执行引擎（例如，Vectorwise [63]），因为其面向行的执行内核。向向量化执行内核的过渡是未来的工作。F1 Query 也不支持查询引擎的本地格式的数据的本地缓存，例如在无共享架构中自然会发现，因为所有数据源都是分散的和远程的。目前，F1 Query 依赖于数据源中的现有缓存或远程缓存层，如 TableCache 。为了支持内存或近内存分析，例如 PowerDrill [39] 提供的分析，F1 Query 需要支持单个工作者的本地缓存和本地感知工作调度，将工作定向到数据可能被缓存的服务器。使用远程数据源也使得收集用于查询优化的统计信息变得更加困难，但我们正在努力使它们可用，以便 F1 Query 可以使用基于成本的优化规则。虽然 F1 Query 对扩展有很好的支持，但我们正在研究改进 F1 扩展方式的技术，例如，通过仅在几台服务器上运行中等规模的分布式查询，从而降低 Exchange 操作的成本和延迟。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="论文" scheme="https://chendouxing.github.io/categories/%E8%AE%BA%E6%96%87/"/>
    
    <category term="数据库顶会论文" scheme="https://chendouxing.github.io/categories/%E8%AE%BA%E6%96%87/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%A1%B6%E4%BC%9A%E8%AE%BA%E6%96%87/"/>
    
    
    <category term="论文" scheme="https://chendouxing.github.io/tags/%E8%AE%BA%E6%96%87/"/>
    
  </entry>
  
</feed>
